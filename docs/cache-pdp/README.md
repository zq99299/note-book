# 亿级流量电商详情页系统实战（第二版）：缓存架构+高可用服务架构+微服务架构

cache-pdp：Cache architecture product details page

本章是第一版与第二版全内容目录导航

## 第一版
> 第 001 ~ 123 章是第一版，主要对缓存架构、高可用中用到的技术做了深入讲解

> [第一版笔记配套项目](https://github.com/zq99299/cache-pdp.git)

- [001. 课程介绍以及高并发高可用复杂系统中的缓存架构有哪些东西](./001-introduce.md)
- [002. 基于大型电商网站中的商品详情页系统贯穿的授课思路介绍](./002.md)
- [003. 小型电商网站的商品详情页的页面静态化架构以及其缺陷](./003.md)
- [004. 大型电商网站的异步多级缓存构建 + nginx 数据本地化动态渲染的架构](./004.md)
- [005. 能够支撑高并发+高可用+海量数据+备份恢复的 redis 的重要性](./005.md)
- [006. 从零开始在虚拟机中一步一步搭建一个 4 个节点的 CentOS 集群](./006.md)
- [007. 单机版 redis 的安装以及 redis 生产环境启动方案](./redis/007.md)
- [008. redis 持久化机对于生产环境中的灾难恢复的意义](./redis/008.md)
- [009. 图解分析 redis 的 RDB 和 AOF 两种持久化机制的工作原理](./redis/009.md)
- [010. redis 的 RDB 和 AOF 两种持久化机制的优劣势对比](./redis/010.md)
- [011. redis 的 RDB 持久化配置以及数据恢复实验](./redis/011.md)
- [012. redis 的 AOF 持久化深入讲解各种操作和相关实验](./redis/012.md)
- [013. 在项目中部署 redis 企业级数据备份方案以及各种踩坑的数据恢复容灾演练](./redis/013.md)
- [014. redis 如何通过读写分离来承载读请求 QPS 超过 10 万 +？](./redis/014.md)
- [015. redis replication 以及 master 持久化对主从架构的安全意义](./redis/015.md)
- [016. redis 主从复制原理、断点续传、无磁盘化复制、过期 key 处理](./redis/016.md)
- [017. redis replication 的完整流运行程和原理的再次深入剖析](./redis/017.md)
- [018. 在项目中部署 redis 的读写分离架构（包含节点间认证口令）](./redis/018.md)
- [019. 对项目的主从 redis 架构进行 QPS 压测以及水平扩容支撑更高 QPS](./redis/019.md)
- [020. redis 主从架构下如何才能做到 99.99% 的高可用性？](./redis/020.md)
- [021. redis 哨兵架构的相关基础知识的讲解](./redis/021.md)
- [022. redis 哨兵主备切换的数据丢失问题：异步复制、集群脑裂](./redis/022.md)
- [023. redis 哨兵的多个核心底层原理的深入解析（包含 slave 选举算法）](./redis/023.md)
- [024. 在项目中以经典的 3 节点方式部署哨兵集群](./redis/024.md)
- [025. 对项目中的哨兵节点进行管理以及高可用 redis 集群的容灾演练](./redis/025.md)
- [026. redis 如何在保持读写分离+高可用的架构下，还能横向扩容支撑 1T + 海量数据](./redis/026.md)
- [027. 数据分布算法：hash+ 一致性 hash + redis cluster 的 hash slot](./redis/027.md)
- [028. 在项目中重新搭建一套读写分离+高可用+多 master 的 redis cluster 集群](./redis/028.md)
- [029. 对项目的 redis cluster 实验多 master 写入、读写分离、高可用性](./redis/029.md)
- [030. redis cluster 通过 master 水平扩容来支撑更高的读写吞吐 + 海量数据](./redis/030.md)
- [031. redis cluster 的自动化 slave 迁移实现更强的高可用架构的部署方案](./redis/031.md)
- [032. redis cluster 的核心原理分析：gossip 通信、jedis smart 定位、主备切换](./redis/032.md)
- [033. redis 在实践中的一些常见问题以及优化思路（包含 linux 内核参数优化）](./redis/033.md)
- [034. redis 阶段性总结：1T 以上海量数据+10 万以上 QPS 高并发+ 99.99% 高可用](./redis/034.md)
- [035. 亿级流量商品详情页的多级缓存架构以及架构中每一层的意义](./035.md)
- [036. Cache Aside Pattern 缓存+数据库读写模式的分析](./036.md)
- [037. 高并发场景下的缓存 + 数据库双写不一致问题分析与解决方案设计](./037.md)
- [038. 在 linux 虚拟机中安装部署 MySQL 数据库](./038.md)
- [039. 库存服务的开发框架整合与搭建：spring boot + mybatis + jedis](./039.md)
- [040. 在库存服务中实现缓存与数据库双写一致性保障方案（一、二、三、四）](./040.md)
- [044. 库存服务代码调试以及打印日志观察服务的运行流程是否正确](./044.md)
- [045. 商品详情页结构分析、缓存全量更新问题以及缓存维度化解决方案](./045.md)
- [046. 缓存数据生产服务的工作流程分析以及工程环境搭建](./046.md)
- [047. 完成 spring boot 整合 ehcache 的搭建以支持服务本地堆缓存](./047.md)
- [048. redis 的 LRU 缓存清除算法讲解以及相关配置使用](./048.md)
- [049. zookeeper + kafka 集群的安装部署以及如何简单使用的介绍](./049.md)
- [050. 基于 kafka + ehcache + redis 完成缓存数据生产服务的开发与测试](./050.md)
- [051. 基于“分发层 + 应用层”双层 nginx 架构提升缓存命中率方案分析](./051.md)
- [052. 基于 OpenResty 部署应用层 nginx 以及 nginx + lua 开发 hello world](./052.md)
- [053. 部署分发层 nginx 以及基于 lua 完成基于商品 id 的定向流量分发策略](./053.md)
- [054. 基于 nginx + lua + java 完成多级缓存架构的核心业务逻辑（一）](./054.md)
- [055. 基于 nginx + lua + java 完成多级缓存架构的核心业务逻辑（二）](./055.md)
- [056. 基于 nginx + lua + java 完成多级缓存架构的核心业务逻辑（三）](./056.md)
- [057. 分布式缓存重建并发冲突问题以及 zookeeper 分布式锁解决方案](./057.md)
- [058. 缓存数据生产服务中的 zk 分布式锁解决方案的代码实现（一）](./058.md)
- [059. 缓存数据生产服务中的 zk 分布式锁解决方案的代码实现（二）](./059.md)
- [060. 缓存数据生产服务中的 zk 分布式锁解决方案的代码实现（三）](./060.md)
- [061. Java 程序员、缓存架构以及 Storm 大数据实时计算之间的关系](./061.md)
- [062. 讲给 Java 工程师的史上最通俗易懂 Storm 教程：大白话介绍](./storm/062.md)
- [063. 讲给 Java 工程师的史上最通俗易懂 Storm 教程：大白话讲集群架构与核心概念](./storm/063.md)
- [064. 讲给 Java 工程师的史上最通俗易懂 Storm 教程：大白话讲并行度和流分组](./storm/064.md)
- [065. 讲给 Java 工程师的史上最通俗易懂 Storm 教程：纯手敲 WordCount 程序](./storm/065.md)
- [066. 讲给 Java 工程师的史上最通俗易懂 Storm 教程：纯手工集群部署](./storm/066.md)
- [067. 讲给 Java 工程师的史上最通俗易懂 Storm 教程：基于集群运行计算拓扑](./storm/067.md)
- [068. 缓存冷启动问题：新系统上线 redis 彻底崩溃导致数据无法恢复](./068.md)
- [069. 缓存预热解决方案：基于 storm 实时热点统计的分布式并行缓存预热](./069.md)
- [070. 基于 nginx+lua 完成商品详情页访问流量实时上报 kafka 的开发](./070.md)
- [071. 基于 storm+kafka 完成商品访问次数实时统计拓扑的开发](./071.md)
- [072. 基于 storm 完成 LRUMap 中 topn 热门商品列表的算法讲解与编写](./072.md)
- [073. 基于 storm+zookeeper 完成热门商品列表的分段存储](./073.md)
- [074. 基于双重 zookeeper 分布式锁完成分布式并行缓存预热的代码开发](./074.md)
- [075. 将缓存预热解决方案的代码运行后观察效果以及调试和修复所有的 bug](./075.md)
- [076. 热点缓存问题：促销抢购时的超级热门商品可能导致系统全盘崩溃的场景](./076.md)
- [077. 基于 nginx+lua+storm 的热点缓存的流量分发策略自动降级解决方案](./077.md)
- [078. 在 storm 拓扑中加入热点缓存实时自动识别和感知的代码逻辑](./078.md)
- [079. 在 storm 拓扑中加入 nginx 反向推送缓存热点与缓存数据的代码逻辑](./079.md)
- [080. 在流量分发+后端应用双层 nginx 中加入接收热点缓存数据的接口](./080.md)
- [081. 在 nginx+lua 中实现热点缓存自动降级为负载均衡流量分发策略的逻辑](./081.md)
- [082. 在 storm 拓扑中加入热点缓存消失的实时自动识别和感知的代码逻辑](./082.md)
- [083. 将热点缓存自动降级解决方案的代码运行后观察效果以及调试和修复 bug](./083.md)
- [084. hystrix 与高可用系统架构：资源隔离+限流+熔断+降级+运维监控](./hystrix/084.md)
- [085. hystrix 要解决的分布式系统可用性问题以及其设计原则](./hystrix/085.md)
- [086. 电商网站的商品详情页缓存服务业务背景以及框架结构说明](./hystrix/086.md)
- [087. 基于 spring boot 快速构建缓存服务以及商品服务](./hystrix/087.md)
- [088. 快速完成缓存服务接收数据变更消息以及调用商品服务接口的代码编写](./hystrix/088.md)
- [089. 商品服务接口故障导致的高并发访问耗尽缓存服务资源的场景分析](./hystrix/089.md)
- [090. 基于 hystrix 的线程池隔离技术进行商品服务接口的资源隔离](./hystrix/090.md)
- [091. 基于 hystrix 的信号量技术对地理位置获取逻辑进行资源隔离与限流](./hystrix/091.md)
- [092. hystrix 的线程池+服务+接口划分以及资源池的容量大小控制](./hystrix/092.md)
- [093. 深入分析 hystrix 执行时的 8 大流程步骤以及内部原理](./hystrix/093.md)
- [094. 基于 request cache 请求缓存技术优化批量商品数据查询接口](./hystrix/094.md)
- [095. 开发品牌名称获取接口的基于本地缓存的 fallback 降级机制](./hystrix/095.md)
- [096. 深入理解 hystrix 的短路器执行原理以及模拟接口异常时的短路实验](./hystrix/096.md)
- [097. 深入理解线程池隔离技术的设计原则以及动手实战接口限流实验](./hystrix/097.md)
- [098. 基于 timeout 机制来为商品服务接口的调用超时提供安全保护](./hystrix/098.md)
- [099. 基于 hystrix 的高可用分布式系统架构项目实战课程的总结](./hystrix/099.md)
- [100. 基于 request collapser 请求合并技术进一步优化批量查询](./hystrix/100.md)
- [101. hystirx 的 fail-fast 与 fail-silient 两种最基础的容错模式](./hystrix/101.md)
- [102. 为商品服务接口调用增加 stubbed fallback 降级机制](./hystrix/102.md)
- [103. 基于双层嵌套 command 开发商品服务接口的多级降级机制](./hystrix/103.md)
- [104. 基于 facade command 开发商品服务接口的手动降级机制](./hystrix/104.md)
- [105. 生产环境中的线程池大小以及 timeout 超时时长优化经验总结](./hystrix/105.md)
- [106. 生产环境中的线程池自动扩容与缩容的动态资源分配经验](./hystrix/106.md)
- [107. hystrix 的 metric 统计相关的各种高阶配置讲解](./hystrix/107.md)
- [108. hystrix dashboard 可视化分布式系统监控环境部署](./hystrix/108.md)
- [109. 生产环境中的hystrix分布式系统的工程运维经验总结](./hystrix/109.md)
- [110. 高并发场景下恐怖的缓存雪崩现象以及导致系统全盘崩溃的后果](./110.md)
- [111. 缓存雪崩的基于事前+事中+事后三个层次的完美解决方案](./111.md)
- [112. 基于 hystrix 完成对 redis 访问的资源隔离以避免缓存服务被拖垮](./112.md)
- [113. 为 redis 集群崩溃时的访问失败增加 fail silent 容错机制](./113.md)
- [114. 为 redis 集群崩溃时的场景部署定制化的熔断策略](./114.md)
- [115. 基于 hystrix 限流完成源服务的过载保护以避免流量洪峰打死 MySQL](./115.md)
- [116. 为源头服务的限流场景增加 stubbed fallback 降级机制](./116.md)
- [117. 高并发场景下的缓存穿透导致 MySQL 压力倍增问题以及其解决方案](./117.md)
- [118. 在缓存服务中开发缓存穿透的保护性机制](./118.md)
- [119. 高并发场景下的 nginx 缓存失效导致 redis 压力倍增问题以及解决方案](./119.md)
- [120. 在 nginx lua 脚本中开发缓存失效的保护性机制](./120.md)
- [121. 支撑高并发与高可用的大型电商详情页系统的缓存架构课程总结](./121.md)
- [122. 如何将课程中的东西学以致用在自己目前的项目中去应用？](./122.md)
- [123. 如何带着课程中讲解的东西化为自己的技术并找一份更好的工作？](./123.md)

## 第二版
> 从 123 章起是第二版，主要是实战，重点是商品详情页架构实战

> [第二版笔记配套项目](https://github.com/zq99299/cache-eshop)

- [124. 大型电商网站的商品详情页的深入分析](./124.md)
- [125. 大型电商网站的商品详情页系统架构是如何一步一步演进的](./125.md)
- [126. 亿级流量大型电商网站的商品详情页系统架构的整体设计](./126.md)
- [127. 商品详情页动态渲染系统：架构整体设计](./dr/127.md)
- [128. 商品详情页动态渲染系统：大型网站的多机房 4级 缓存架构设计](./dr/128.md)
- [129. 商品详情页动态渲染系统：复杂的消息队列架构设计](./dr/129.md)
- [130. 商品详情页动态渲染系统：使用多线程并发提升系统吞吐量的设计](./dr/130.md)
- [131. 商品详情页动态渲染系统：redis 批量查询性能优化设计](./dr/131.md)
- [132. 商品详情页动态渲染系统：全链路高可用架构设计](./dr/132.md)
- [133. 商品详情页动态渲染系统：微服务架构设计](./dr/133.md)
- [134. 商品详情页动态渲染系统：机房与机器的规划](./dr/134.md)
- [135. 商品详情页动态渲染系统：部署 CentOS 虚拟机集群](./dr/135.md)
- [136. 商品详情页动态渲染系统：双机房部署接入层与应用层 Nginx+Lua](./dr/136.md)
- [137. 商品详情页动态渲染系统：为什么是 twemproxy+redis 而不是 redis cluster？](./dr/137.md)
- [138. 商品详情页动态渲染系统：redis 复习以及 twemproxy 基础知识讲解](./dr/138.md)
- [139. 商品详情页动态渲染系统：部署双机房一主三从架构的 redis 主集群](./dr/139.md)
- [140. 商品详情页动态渲染系统：给每个机房部署一个 redis 从集群](./dr/140.md)
- [141. 商品详情页动态渲染系统：为 redis 主集群部署 twemproxy 中间件](./dr/141.md)
- [142. 商品详情页动态渲染系统：为每个机房的 redis 从集群部署 twemproxy 中间件](./dr/142.md)
- [143. 商品详情页动态渲染系统：部署 RabbitMQ 消息中间件](./dr/143.md)
- [144. 商品详情页动态渲染系统：部署 MySQL 数据库](./dr/144.md)
- [145. 商品详情页动态渲染系统：声音小问题&课程代码二次开发&商品服务需求](./dr/145.md)
- [146. 商品详情页动态渲染系统：工程师的 why-how-what 思考方法&价格服务说明](./dr/146.md)
- [147. 商品详情页动态渲染系统：库存服务的场景介绍以及课程需求说明](./dr/147.md)
- [148. 商品详情页动态渲染系统：微服务与 Spring Cloud 基本介绍](./dr/148.md)
- [149. 商品详情页动态渲染系统：Spring Boot 与微服务的关系以及开发回顾](./dr/149.md)
- [150. 商品详情页动态渲染系统：Spring Cloud 之 Eureka 注册中心](./dr/150.md)
- [151. 商品详情页动态渲染系统：Spring Cloud 之 Ribbon+Rest 调用负载均衡](./dr/151.md)
- [152. 商品详情页动态渲染系统：Spring Cloud 之 Fegion 声明式服务调用](./dr/152.md)
- [153. 商品详情页动态渲染系统：Spring Cloud 之 Hystrix 熔断降级](./dr/153.md)
- [154. 商品详情页动态渲染系统：Spring Cloud 之 Zuul 网关路由](./dr/154.md)
- [155. 商品详情页动态渲染系统：Spring Cloud 之 Config 统一配置中心](./dr/155.md)
- [156. 商品详情页动态渲染系统：Spring Cloud 之 Sleuth 调用链路追踪](./dr/156.md)
- [157. 商品详情页动态渲染系统：Spring Cloud 之 Eureka Server 安全认证](./dr/157.md)
- [158. 商品详情页动态渲染系统：完成 Spring Boot+Spring Cloud+MyBatis 整合](./dr/158.md)
- [159. 商品详情页动态渲染系统：基于 Spring Cloud 开发商品服务（一）](./dr/159.md)
- [160. 商品详情页动态渲染系统：基于 Spring Cloud 开发商品服务（二）](./dr/160.md)
- [161. 商品详情页动态渲染系统：基于 Spring Cloud 开发价格服务](./dr/161.md)
- [162. 商品详情页动态渲染系统：基于 Spring Cloud 开发库存服务](./dr/162.md)
- [163. 商品详情页动态渲染系统：windows 部署 rabbitmq 作为开发测试环境](./dr/163.md)
- [164. 商品详情页动态渲染系统：windows 部署 redis 作为开发测试环境](./dr/164.md)
- [165. 商品详情页动态渲染系统：依赖服务将数据变更消息写入 rabbitmq 或双写 redis](./dr/165.md)
- [166. 商品详情页动态渲染系统：基于 Spring Cloud 开发数据同步服务](./dr/166.md)
- [167. 商品详情页动态渲染系统：基于 Spring Cloud 开发数据聚合服务](./dr/167.md)
- [168. 商品详情页动态渲染系统：完成数据同步服务与数据聚合服务的测试](./dr/168.md)
- [169. 商品详情页动态渲染系统：消息队列架构升级之去重队列](./dr/169.md)
- [170. 商品详情页动态渲染系统：消息队列架构升级之刷数据与高优先级队列](./dr/170.md)
- [171. 商品详情页动态渲染系统：吞吐量优化之批量调用依赖服务接口](./dr/171.md)
- [172. 商品详情页动态渲染系统：吞吐量优化之 redis mget 批量查询数据](./dr/172.md)
- [173. 商品详情页动态渲染系统：在分发层 nginx 部署流量分发的 lua 脚本](./dr/173.md)
- [174. 商品详情页动态渲染系统：完成应用层 nginx 的 lua 脚本的编写与部署](./dr/174.md)
- [175. 商品详情页动态渲染系统：基于 Spring Cloud 开发数据直连服务](./dr/175.md)
- [176. 商品详情页动态渲染系统：完成多级缓存全链路的测试多个 bug 修复](./dr/176.md)
- [177. 商品详情页动态渲染系统：商品介绍分段存储以及分段加载的介绍](./dr/177.md)
- [178. 商品详情页动态渲染系统：高可用架构优化之读链路多级降级思路介绍](./dr/178.md)
- [179. 商品详情页动态渲染系统：高可用架构优化之 hystrix 隔离与降级](./dr/179.md)
- [180. 商品详情页动态渲染系统：部署 jenkins 持续集成服务器](./dr/180.md)
- [181. 商品详情页动态渲染系统：在 CentOS 6 安装和部署 Docker](./dr/181.md)
- [182. 商品详情页动态渲染系统：在 CentOS 6 安装 maven、git 以及推送 github](./dr/182.md)
- [183. 商品详情页动态渲染系统：通过 jenkins+docker 部署 eureka 服务](./dr/183.md)
- [184. 商品详情页动态渲染系统：twemproxy hash tag+mget 优化思路介绍](./dr/184.md)
- [185. 商品详情页动态渲染系统：所有服务最终修改以及 jenkins+docker 部署](./dr/185.md)
- [186. 商品详情页 OneService 系统：整体架构设计](./onservice/186.md)
- [187. 商品详情页 OneService 系统：基于 Spring Cloud 构建 OneService 服务](./onservice/187.md)
- [188. 商品详情页 OneService 系统：库存服务与价格服务的代理接口开发](./onservice/188.md)
- [189. 商品详情页 OneService 系统：请求预处理功能设计介绍](./onservice/189.md)
- [190. 商品详情页 OneService 系统：多服务接口合并设计介绍](./onservice/190.md)
- [191. 商品详情页 OneService 系统：基于 hystrix 进行接口统一降级](./onservice/191.md)
- [192. 商品详情页 OneService 系统：基于 hystrix dashboard 进行统一监控](./onservice/192.md)
- [193. 商品详情页 OneService 系统：基于 jenkins+docker 部署 OneService 服务](./onservice/193.md)
- [194. 商品详情页 OneService 系统：基于 jenkins+docker 部署 hystrix terbine 服务](./onservice/194.md)
- [195. 商品详情页前端介绍&课程总结& Java 架构师展望](./195.md)
