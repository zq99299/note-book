<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>java fx 图形界面开发 | Mrcode 笔记本</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="用来记录工作和学习过程中的笔记，汇总成册方便查阅，类容涵盖各类技术，如：Java、Git、ElasticSearch、MyCat、设计模式、Gradle、Vue - mrcode.cn">
    
    <link rel="preload" href="/note-book/assets/css/0.styles.f86e2458.css" as="style"><link rel="preload" href="/note-book/assets/js/app.f8ed69a7.js" as="script"><link rel="preload" href="/note-book/assets/js/7.9ecfe4e1.js" as="script"><link rel="preload" href="/note-book/assets/js/17.b77eebce.js" as="script"><link rel="preload" href="/note-book/assets/js/103.8bd3ade7.js" as="script"><link rel="prefetch" href="/note-book/assets/js/10.b1c9cf58.js"><link rel="prefetch" href="/note-book/assets/js/100.21e9f93e.js"><link rel="prefetch" href="/note-book/assets/js/101.96d9f3a5.js"><link rel="prefetch" href="/note-book/assets/js/102.b1adfb99.js"><link rel="prefetch" href="/note-book/assets/js/104.4ca74fc1.js"><link rel="prefetch" href="/note-book/assets/js/105.bc1a8a31.js"><link rel="prefetch" href="/note-book/assets/js/106.2ee31dc0.js"><link rel="prefetch" href="/note-book/assets/js/107.2ce25586.js"><link rel="prefetch" href="/note-book/assets/js/108.aee119c4.js"><link rel="prefetch" href="/note-book/assets/js/109.cd71f457.js"><link rel="prefetch" href="/note-book/assets/js/11.46e1cf12.js"><link rel="prefetch" href="/note-book/assets/js/110.69eb69a9.js"><link rel="prefetch" href="/note-book/assets/js/111.9920c108.js"><link rel="prefetch" href="/note-book/assets/js/112.a28077d7.js"><link rel="prefetch" href="/note-book/assets/js/113.9110d3ca.js"><link rel="prefetch" href="/note-book/assets/js/114.69a10003.js"><link rel="prefetch" href="/note-book/assets/js/115.def47603.js"><link rel="prefetch" href="/note-book/assets/js/116.008b21ee.js"><link rel="prefetch" href="/note-book/assets/js/117.97f9ea6e.js"><link rel="prefetch" href="/note-book/assets/js/118.f4d793a5.js"><link rel="prefetch" href="/note-book/assets/js/119.e9cfd47d.js"><link rel="prefetch" href="/note-book/assets/js/12.8f0055b0.js"><link rel="prefetch" href="/note-book/assets/js/120.6818f7c9.js"><link rel="prefetch" href="/note-book/assets/js/121.0e0d8e0d.js"><link rel="prefetch" href="/note-book/assets/js/122.44d5300e.js"><link rel="prefetch" href="/note-book/assets/js/123.cf14d18c.js"><link rel="prefetch" href="/note-book/assets/js/124.3c665afe.js"><link rel="prefetch" href="/note-book/assets/js/125.959e512b.js"><link rel="prefetch" href="/note-book/assets/js/126.adbe38d0.js"><link rel="prefetch" href="/note-book/assets/js/127.4ab81857.js"><link rel="prefetch" href="/note-book/assets/js/128.1c29e5fc.js"><link rel="prefetch" href="/note-book/assets/js/129.b519914f.js"><link rel="prefetch" href="/note-book/assets/js/13.ba05e912.js"><link rel="prefetch" href="/note-book/assets/js/130.447e4e01.js"><link rel="prefetch" href="/note-book/assets/js/131.8e3077f3.js"><link rel="prefetch" href="/note-book/assets/js/132.17d5fdb8.js"><link rel="prefetch" href="/note-book/assets/js/133.307746fd.js"><link rel="prefetch" href="/note-book/assets/js/134.0d9066b4.js"><link rel="prefetch" href="/note-book/assets/js/135.b482bddb.js"><link rel="prefetch" href="/note-book/assets/js/136.60b4dd7f.js"><link rel="prefetch" href="/note-book/assets/js/137.e711220f.js"><link rel="prefetch" href="/note-book/assets/js/138.81526c7e.js"><link rel="prefetch" href="/note-book/assets/js/139.f862c00a.js"><link rel="prefetch" href="/note-book/assets/js/14.91f13759.js"><link rel="prefetch" href="/note-book/assets/js/140.1bc234d8.js"><link rel="prefetch" href="/note-book/assets/js/141.30f2f99a.js"><link rel="prefetch" href="/note-book/assets/js/142.1635598e.js"><link rel="prefetch" href="/note-book/assets/js/143.fdfdd8f9.js"><link rel="prefetch" href="/note-book/assets/js/144.961c208d.js"><link rel="prefetch" href="/note-book/assets/js/145.c153f939.js"><link rel="prefetch" href="/note-book/assets/js/146.c5585b72.js"><link rel="prefetch" href="/note-book/assets/js/147.fab2e407.js"><link rel="prefetch" href="/note-book/assets/js/148.cdde9a8c.js"><link rel="prefetch" href="/note-book/assets/js/149.81578e9c.js"><link rel="prefetch" href="/note-book/assets/js/15.9ac6bac0.js"><link rel="prefetch" href="/note-book/assets/js/150.17e4fbad.js"><link rel="prefetch" href="/note-book/assets/js/151.7f3b8dd0.js"><link rel="prefetch" href="/note-book/assets/js/152.76cab3d6.js"><link rel="prefetch" href="/note-book/assets/js/153.93d30725.js"><link rel="prefetch" href="/note-book/assets/js/154.fb6e31f8.js"><link rel="prefetch" href="/note-book/assets/js/155.092c7bd8.js"><link rel="prefetch" href="/note-book/assets/js/156.2e254eae.js"><link rel="prefetch" href="/note-book/assets/js/157.d81d7206.js"><link rel="prefetch" href="/note-book/assets/js/158.1651a4fa.js"><link rel="prefetch" href="/note-book/assets/js/159.388d3c33.js"><link rel="prefetch" href="/note-book/assets/js/16.5810679e.js"><link rel="prefetch" href="/note-book/assets/js/160.b319e87c.js"><link rel="prefetch" href="/note-book/assets/js/161.39883494.js"><link rel="prefetch" href="/note-book/assets/js/162.65a611f7.js"><link rel="prefetch" href="/note-book/assets/js/163.628c933b.js"><link rel="prefetch" href="/note-book/assets/js/164.ac63d006.js"><link rel="prefetch" href="/note-book/assets/js/165.3e9cfd5c.js"><link rel="prefetch" href="/note-book/assets/js/166.f924ca18.js"><link rel="prefetch" href="/note-book/assets/js/167.d40889bc.js"><link rel="prefetch" href="/note-book/assets/js/168.6c17b238.js"><link rel="prefetch" href="/note-book/assets/js/169.5fcbf902.js"><link rel="prefetch" href="/note-book/assets/js/170.68d43632.js"><link rel="prefetch" href="/note-book/assets/js/171.6f45ae48.js"><link rel="prefetch" href="/note-book/assets/js/172.b792d0c6.js"><link rel="prefetch" href="/note-book/assets/js/173.75e2460a.js"><link rel="prefetch" href="/note-book/assets/js/174.b8c7cd6c.js"><link rel="prefetch" href="/note-book/assets/js/175.d033599f.js"><link rel="prefetch" href="/note-book/assets/js/176.7162d5c4.js"><link rel="prefetch" href="/note-book/assets/js/177.b0790383.js"><link rel="prefetch" href="/note-book/assets/js/178.284bf189.js"><link rel="prefetch" href="/note-book/assets/js/179.3615746e.js"><link rel="prefetch" href="/note-book/assets/js/18.fc77c873.js"><link rel="prefetch" href="/note-book/assets/js/180.6999e7c3.js"><link rel="prefetch" href="/note-book/assets/js/181.a23c2537.js"><link rel="prefetch" href="/note-book/assets/js/182.f665f68f.js"><link rel="prefetch" href="/note-book/assets/js/183.3ce1cf79.js"><link rel="prefetch" href="/note-book/assets/js/184.cbcc17ce.js"><link rel="prefetch" href="/note-book/assets/js/185.6054484b.js"><link rel="prefetch" href="/note-book/assets/js/186.93f15566.js"><link rel="prefetch" href="/note-book/assets/js/187.46cc3495.js"><link rel="prefetch" href="/note-book/assets/js/188.13957f11.js"><link rel="prefetch" href="/note-book/assets/js/189.dea1c3cf.js"><link rel="prefetch" href="/note-book/assets/js/19.1fd9b5ce.js"><link rel="prefetch" href="/note-book/assets/js/190.4de03cce.js"><link rel="prefetch" href="/note-book/assets/js/191.7f4f28b7.js"><link rel="prefetch" href="/note-book/assets/js/192.f74547a7.js"><link rel="prefetch" href="/note-book/assets/js/193.03d5da38.js"><link rel="prefetch" href="/note-book/assets/js/194.f053e29b.js"><link rel="prefetch" href="/note-book/assets/js/195.431b1671.js"><link rel="prefetch" href="/note-book/assets/js/196.3fcfb913.js"><link rel="prefetch" href="/note-book/assets/js/197.da63c215.js"><link rel="prefetch" href="/note-book/assets/js/198.1a6bc6dc.js"><link rel="prefetch" href="/note-book/assets/js/199.a8edf70b.js"><link rel="prefetch" href="/note-book/assets/js/2.f1ad5696.js"><link rel="prefetch" href="/note-book/assets/js/20.88da77a6.js"><link rel="prefetch" href="/note-book/assets/js/200.b3c34ea3.js"><link rel="prefetch" href="/note-book/assets/js/201.e659163b.js"><link rel="prefetch" href="/note-book/assets/js/202.23e9bbba.js"><link rel="prefetch" href="/note-book/assets/js/203.98913ac6.js"><link rel="prefetch" href="/note-book/assets/js/204.3fa0998d.js"><link rel="prefetch" href="/note-book/assets/js/205.69b47e33.js"><link rel="prefetch" href="/note-book/assets/js/206.4327caa7.js"><link rel="prefetch" href="/note-book/assets/js/207.05ca2003.js"><link rel="prefetch" href="/note-book/assets/js/208.9ec1b519.js"><link rel="prefetch" href="/note-book/assets/js/209.4b915207.js"><link rel="prefetch" href="/note-book/assets/js/21.b1a7b674.js"><link rel="prefetch" href="/note-book/assets/js/210.0f69f558.js"><link rel="prefetch" href="/note-book/assets/js/211.c1c58bd6.js"><link rel="prefetch" href="/note-book/assets/js/212.21598b06.js"><link rel="prefetch" href="/note-book/assets/js/213.e3d76c33.js"><link rel="prefetch" href="/note-book/assets/js/214.e7fcee8b.js"><link rel="prefetch" href="/note-book/assets/js/215.d89e25b8.js"><link rel="prefetch" href="/note-book/assets/js/216.dce319c6.js"><link rel="prefetch" href="/note-book/assets/js/217.f3869df2.js"><link rel="prefetch" href="/note-book/assets/js/218.32ec7153.js"><link rel="prefetch" href="/note-book/assets/js/219.cd375bc1.js"><link rel="prefetch" href="/note-book/assets/js/22.a0ed892c.js"><link rel="prefetch" href="/note-book/assets/js/220.eb4abebd.js"><link rel="prefetch" href="/note-book/assets/js/221.0c828c62.js"><link rel="prefetch" href="/note-book/assets/js/222.74080d37.js"><link rel="prefetch" href="/note-book/assets/js/223.8bc726b8.js"><link rel="prefetch" href="/note-book/assets/js/224.df26e17b.js"><link rel="prefetch" href="/note-book/assets/js/225.7b9d8daa.js"><link rel="prefetch" href="/note-book/assets/js/226.f245cef4.js"><link rel="prefetch" href="/note-book/assets/js/227.661e7304.js"><link rel="prefetch" href="/note-book/assets/js/228.e5e2c77b.js"><link rel="prefetch" href="/note-book/assets/js/229.ee4f3b21.js"><link rel="prefetch" href="/note-book/assets/js/23.cace9e18.js"><link rel="prefetch" href="/note-book/assets/js/230.4c9e3a08.js"><link rel="prefetch" href="/note-book/assets/js/231.1bc68d87.js"><link rel="prefetch" href="/note-book/assets/js/232.d23dae4c.js"><link rel="prefetch" href="/note-book/assets/js/233.fef0b654.js"><link rel="prefetch" href="/note-book/assets/js/234.aeed6eac.js"><link rel="prefetch" href="/note-book/assets/js/235.623ea031.js"><link rel="prefetch" href="/note-book/assets/js/236.3a758f83.js"><link rel="prefetch" href="/note-book/assets/js/237.84d7c29e.js"><link rel="prefetch" href="/note-book/assets/js/238.e35c3db9.js"><link rel="prefetch" href="/note-book/assets/js/239.0ec5adff.js"><link rel="prefetch" href="/note-book/assets/js/24.5580e58a.js"><link rel="prefetch" href="/note-book/assets/js/240.d8034943.js"><link rel="prefetch" href="/note-book/assets/js/241.6f89c55a.js"><link rel="prefetch" href="/note-book/assets/js/242.4b0ca27f.js"><link rel="prefetch" href="/note-book/assets/js/243.170713df.js"><link rel="prefetch" href="/note-book/assets/js/244.9e619475.js"><link rel="prefetch" href="/note-book/assets/js/245.30852d0a.js"><link rel="prefetch" href="/note-book/assets/js/246.9f3eece5.js"><link rel="prefetch" href="/note-book/assets/js/247.d99162d8.js"><link rel="prefetch" href="/note-book/assets/js/248.5f99cc41.js"><link rel="prefetch" href="/note-book/assets/js/249.1bf38e99.js"><link rel="prefetch" href="/note-book/assets/js/25.f428865a.js"><link rel="prefetch" href="/note-book/assets/js/250.1018d9d7.js"><link rel="prefetch" href="/note-book/assets/js/251.c1eebed1.js"><link rel="prefetch" href="/note-book/assets/js/252.9e2b8c50.js"><link rel="prefetch" href="/note-book/assets/js/253.e2bf1a66.js"><link rel="prefetch" href="/note-book/assets/js/254.8b3c5e01.js"><link rel="prefetch" href="/note-book/assets/js/255.cd62dfbc.js"><link rel="prefetch" href="/note-book/assets/js/256.e9f2d1d4.js"><link rel="prefetch" href="/note-book/assets/js/257.dc9f8793.js"><link rel="prefetch" href="/note-book/assets/js/258.b2d1d465.js"><link rel="prefetch" href="/note-book/assets/js/259.41278d7f.js"><link rel="prefetch" href="/note-book/assets/js/26.f1191a10.js"><link rel="prefetch" href="/note-book/assets/js/260.b0b7a142.js"><link rel="prefetch" href="/note-book/assets/js/261.e2a578ec.js"><link rel="prefetch" href="/note-book/assets/js/262.3690c9a2.js"><link rel="prefetch" href="/note-book/assets/js/263.8df1757c.js"><link rel="prefetch" href="/note-book/assets/js/264.35333c40.js"><link rel="prefetch" href="/note-book/assets/js/265.0e3849a8.js"><link rel="prefetch" href="/note-book/assets/js/266.ad23ae3d.js"><link rel="prefetch" href="/note-book/assets/js/267.ab3c4cb9.js"><link rel="prefetch" href="/note-book/assets/js/268.d1a54805.js"><link rel="prefetch" href="/note-book/assets/js/269.7263f67f.js"><link rel="prefetch" href="/note-book/assets/js/27.51b3ad67.js"><link rel="prefetch" href="/note-book/assets/js/270.2d658462.js"><link rel="prefetch" href="/note-book/assets/js/271.bf677e50.js"><link rel="prefetch" href="/note-book/assets/js/272.b7f15592.js"><link rel="prefetch" href="/note-book/assets/js/273.dc0d6b07.js"><link rel="prefetch" href="/note-book/assets/js/274.79273425.js"><link rel="prefetch" href="/note-book/assets/js/275.6dd69ab3.js"><link rel="prefetch" href="/note-book/assets/js/276.f8aa6df3.js"><link rel="prefetch" href="/note-book/assets/js/277.66cfa914.js"><link rel="prefetch" href="/note-book/assets/js/278.39960f01.js"><link rel="prefetch" href="/note-book/assets/js/279.3dc9aed4.js"><link rel="prefetch" href="/note-book/assets/js/28.c3780980.js"><link rel="prefetch" href="/note-book/assets/js/280.c81f9ea0.js"><link rel="prefetch" href="/note-book/assets/js/281.3fa42fca.js"><link rel="prefetch" href="/note-book/assets/js/282.b24c908c.js"><link rel="prefetch" href="/note-book/assets/js/283.53337ce1.js"><link rel="prefetch" href="/note-book/assets/js/284.48b46bf7.js"><link rel="prefetch" href="/note-book/assets/js/285.8c7de18d.js"><link rel="prefetch" href="/note-book/assets/js/286.f06522ee.js"><link rel="prefetch" href="/note-book/assets/js/287.f8ad7180.js"><link rel="prefetch" href="/note-book/assets/js/288.8d4f1475.js"><link rel="prefetch" href="/note-book/assets/js/289.52222adf.js"><link rel="prefetch" href="/note-book/assets/js/29.07e192b6.js"><link rel="prefetch" href="/note-book/assets/js/290.7ee56862.js"><link rel="prefetch" href="/note-book/assets/js/291.34c5641c.js"><link rel="prefetch" href="/note-book/assets/js/292.cfc64ec4.js"><link rel="prefetch" href="/note-book/assets/js/293.96ea97e1.js"><link rel="prefetch" href="/note-book/assets/js/294.69823ea6.js"><link rel="prefetch" href="/note-book/assets/js/295.5e336afd.js"><link rel="prefetch" href="/note-book/assets/js/296.f03c85cc.js"><link rel="prefetch" href="/note-book/assets/js/297.100362dd.js"><link rel="prefetch" href="/note-book/assets/js/298.2f488848.js"><link rel="prefetch" href="/note-book/assets/js/299.0e612b03.js"><link rel="prefetch" href="/note-book/assets/js/3.be31f4cb.js"><link rel="prefetch" href="/note-book/assets/js/30.dd8f283e.js"><link rel="prefetch" href="/note-book/assets/js/300.b9712d3f.js"><link rel="prefetch" href="/note-book/assets/js/301.65f0283e.js"><link rel="prefetch" href="/note-book/assets/js/302.a440aecd.js"><link rel="prefetch" href="/note-book/assets/js/303.ad9fd3ec.js"><link rel="prefetch" href="/note-book/assets/js/304.dee28392.js"><link rel="prefetch" href="/note-book/assets/js/305.c31b7c06.js"><link rel="prefetch" href="/note-book/assets/js/306.d083a85e.js"><link rel="prefetch" href="/note-book/assets/js/307.6cf66f90.js"><link rel="prefetch" href="/note-book/assets/js/308.517c1a55.js"><link rel="prefetch" href="/note-book/assets/js/309.9d563d23.js"><link rel="prefetch" href="/note-book/assets/js/31.98d0a298.js"><link rel="prefetch" href="/note-book/assets/js/310.d2286ee7.js"><link rel="prefetch" href="/note-book/assets/js/311.b65c827c.js"><link rel="prefetch" href="/note-book/assets/js/312.d993d394.js"><link rel="prefetch" href="/note-book/assets/js/313.e5ad53f7.js"><link rel="prefetch" href="/note-book/assets/js/314.44aad97f.js"><link rel="prefetch" href="/note-book/assets/js/315.037c3d1a.js"><link rel="prefetch" href="/note-book/assets/js/316.543177c1.js"><link rel="prefetch" href="/note-book/assets/js/317.3c819b51.js"><link rel="prefetch" href="/note-book/assets/js/318.40861374.js"><link rel="prefetch" href="/note-book/assets/js/319.0b202625.js"><link rel="prefetch" href="/note-book/assets/js/32.b0e21fa2.js"><link rel="prefetch" href="/note-book/assets/js/320.c5124bdf.js"><link rel="prefetch" href="/note-book/assets/js/321.b357afa2.js"><link rel="prefetch" href="/note-book/assets/js/322.55201dcb.js"><link rel="prefetch" href="/note-book/assets/js/323.5d406c93.js"><link rel="prefetch" href="/note-book/assets/js/324.650585dd.js"><link rel="prefetch" href="/note-book/assets/js/325.4b88666f.js"><link rel="prefetch" href="/note-book/assets/js/326.be516d69.js"><link rel="prefetch" href="/note-book/assets/js/327.78887bff.js"><link rel="prefetch" href="/note-book/assets/js/328.5455b5bb.js"><link rel="prefetch" href="/note-book/assets/js/329.5015ff65.js"><link rel="prefetch" href="/note-book/assets/js/33.d0105676.js"><link rel="prefetch" href="/note-book/assets/js/330.9eebc1b4.js"><link rel="prefetch" href="/note-book/assets/js/331.ffa63866.js"><link rel="prefetch" href="/note-book/assets/js/332.9d2a45ce.js"><link rel="prefetch" href="/note-book/assets/js/333.71df42a8.js"><link rel="prefetch" href="/note-book/assets/js/334.6420e0ab.js"><link rel="prefetch" href="/note-book/assets/js/335.3bfae3ba.js"><link rel="prefetch" href="/note-book/assets/js/336.918ee016.js"><link rel="prefetch" href="/note-book/assets/js/337.33a279cf.js"><link rel="prefetch" href="/note-book/assets/js/338.36f1d866.js"><link rel="prefetch" href="/note-book/assets/js/339.0e36d454.js"><link rel="prefetch" href="/note-book/assets/js/34.d7e95246.js"><link rel="prefetch" href="/note-book/assets/js/340.655f1369.js"><link rel="prefetch" href="/note-book/assets/js/341.590821f7.js"><link rel="prefetch" href="/note-book/assets/js/342.7b4d7166.js"><link rel="prefetch" href="/note-book/assets/js/343.56043ffa.js"><link rel="prefetch" href="/note-book/assets/js/344.9d46077d.js"><link rel="prefetch" href="/note-book/assets/js/345.7d6c90b3.js"><link rel="prefetch" href="/note-book/assets/js/346.24420ee4.js"><link rel="prefetch" href="/note-book/assets/js/347.05da094d.js"><link rel="prefetch" href="/note-book/assets/js/348.6b090d3c.js"><link rel="prefetch" href="/note-book/assets/js/349.ff8b71d7.js"><link rel="prefetch" href="/note-book/assets/js/35.8324d695.js"><link rel="prefetch" href="/note-book/assets/js/350.6467e6fd.js"><link rel="prefetch" href="/note-book/assets/js/351.9af8ca04.js"><link rel="prefetch" href="/note-book/assets/js/352.20a0d56c.js"><link rel="prefetch" href="/note-book/assets/js/353.2a157efc.js"><link rel="prefetch" href="/note-book/assets/js/354.53294173.js"><link rel="prefetch" href="/note-book/assets/js/355.86f4eaa4.js"><link rel="prefetch" href="/note-book/assets/js/356.844e7ebb.js"><link rel="prefetch" href="/note-book/assets/js/357.f06cc8c2.js"><link rel="prefetch" href="/note-book/assets/js/358.3f394d44.js"><link rel="prefetch" href="/note-book/assets/js/359.6763f3c3.js"><link rel="prefetch" href="/note-book/assets/js/36.a0f135a7.js"><link rel="prefetch" href="/note-book/assets/js/360.5fa391d7.js"><link rel="prefetch" href="/note-book/assets/js/361.0bf5a313.js"><link rel="prefetch" href="/note-book/assets/js/362.f302655f.js"><link rel="prefetch" href="/note-book/assets/js/363.1507feb5.js"><link rel="prefetch" href="/note-book/assets/js/364.dc63aa25.js"><link rel="prefetch" href="/note-book/assets/js/365.b92d7cf0.js"><link rel="prefetch" href="/note-book/assets/js/366.c6737655.js"><link rel="prefetch" href="/note-book/assets/js/367.e7ed420c.js"><link rel="prefetch" href="/note-book/assets/js/368.bc283b4c.js"><link rel="prefetch" href="/note-book/assets/js/369.4435597b.js"><link rel="prefetch" href="/note-book/assets/js/37.d6f1d40c.js"><link rel="prefetch" href="/note-book/assets/js/370.4777399c.js"><link rel="prefetch" href="/note-book/assets/js/371.fa2f132c.js"><link rel="prefetch" href="/note-book/assets/js/372.a5b930f8.js"><link rel="prefetch" href="/note-book/assets/js/373.1a6e785c.js"><link rel="prefetch" href="/note-book/assets/js/374.34535369.js"><link rel="prefetch" href="/note-book/assets/js/375.5194defa.js"><link rel="prefetch" href="/note-book/assets/js/376.3c4439fd.js"><link rel="prefetch" href="/note-book/assets/js/377.62a89994.js"><link rel="prefetch" href="/note-book/assets/js/378.01abee15.js"><link rel="prefetch" href="/note-book/assets/js/379.42bacadb.js"><link rel="prefetch" href="/note-book/assets/js/38.d6bd40cc.js"><link rel="prefetch" href="/note-book/assets/js/380.720d40c2.js"><link rel="prefetch" href="/note-book/assets/js/381.939c186c.js"><link rel="prefetch" href="/note-book/assets/js/382.f4fd22d3.js"><link rel="prefetch" href="/note-book/assets/js/383.1480ea68.js"><link rel="prefetch" href="/note-book/assets/js/384.118e5ffd.js"><link rel="prefetch" href="/note-book/assets/js/385.f114a858.js"><link rel="prefetch" href="/note-book/assets/js/386.0b8bf0c7.js"><link rel="prefetch" href="/note-book/assets/js/387.ca96b378.js"><link rel="prefetch" href="/note-book/assets/js/388.ce6f3dfc.js"><link rel="prefetch" href="/note-book/assets/js/389.fcfca6a3.js"><link rel="prefetch" href="/note-book/assets/js/39.4c8a9c5f.js"><link rel="prefetch" href="/note-book/assets/js/390.1cf0eae3.js"><link rel="prefetch" href="/note-book/assets/js/391.2ca41df8.js"><link rel="prefetch" href="/note-book/assets/js/392.a510f70c.js"><link rel="prefetch" href="/note-book/assets/js/393.73a24b76.js"><link rel="prefetch" href="/note-book/assets/js/394.acba2bc0.js"><link rel="prefetch" href="/note-book/assets/js/395.11b202a5.js"><link rel="prefetch" href="/note-book/assets/js/396.0a11989e.js"><link rel="prefetch" href="/note-book/assets/js/397.ab51c697.js"><link rel="prefetch" href="/note-book/assets/js/398.56b3786e.js"><link rel="prefetch" href="/note-book/assets/js/399.5e779331.js"><link rel="prefetch" href="/note-book/assets/js/4.1e77e984.js"><link rel="prefetch" href="/note-book/assets/js/40.df2ea972.js"><link rel="prefetch" href="/note-book/assets/js/400.d73b21a5.js"><link rel="prefetch" href="/note-book/assets/js/401.48402016.js"><link rel="prefetch" href="/note-book/assets/js/402.42e8d84e.js"><link rel="prefetch" href="/note-book/assets/js/403.7bd67534.js"><link rel="prefetch" href="/note-book/assets/js/404.30179a3e.js"><link rel="prefetch" href="/note-book/assets/js/405.074f25a9.js"><link rel="prefetch" href="/note-book/assets/js/406.31e5050d.js"><link rel="prefetch" href="/note-book/assets/js/407.dae509a2.js"><link rel="prefetch" href="/note-book/assets/js/408.93063a95.js"><link rel="prefetch" href="/note-book/assets/js/409.e65a6f38.js"><link rel="prefetch" href="/note-book/assets/js/41.423b1ef3.js"><link rel="prefetch" href="/note-book/assets/js/410.1f8a1e40.js"><link rel="prefetch" href="/note-book/assets/js/411.a84ccce0.js"><link rel="prefetch" href="/note-book/assets/js/412.6b2656ee.js"><link rel="prefetch" href="/note-book/assets/js/413.1a20ba64.js"><link rel="prefetch" href="/note-book/assets/js/414.4d4325ef.js"><link rel="prefetch" href="/note-book/assets/js/415.f3ef0e77.js"><link rel="prefetch" href="/note-book/assets/js/416.8a79280b.js"><link rel="prefetch" href="/note-book/assets/js/417.ad7ad0ae.js"><link rel="prefetch" href="/note-book/assets/js/418.708adff8.js"><link rel="prefetch" href="/note-book/assets/js/419.1d24d76c.js"><link rel="prefetch" href="/note-book/assets/js/42.1b214dd9.js"><link rel="prefetch" href="/note-book/assets/js/420.b150112d.js"><link rel="prefetch" href="/note-book/assets/js/421.de7e8777.js"><link rel="prefetch" href="/note-book/assets/js/422.f2e986ec.js"><link rel="prefetch" href="/note-book/assets/js/423.2a5ac4a3.js"><link rel="prefetch" href="/note-book/assets/js/424.d821553a.js"><link rel="prefetch" href="/note-book/assets/js/425.5731a9e2.js"><link rel="prefetch" href="/note-book/assets/js/426.cd5e8ee9.js"><link rel="prefetch" href="/note-book/assets/js/427.52f24a8c.js"><link rel="prefetch" href="/note-book/assets/js/428.be8e9c0a.js"><link rel="prefetch" href="/note-book/assets/js/429.71751097.js"><link rel="prefetch" href="/note-book/assets/js/43.f8370b14.js"><link rel="prefetch" href="/note-book/assets/js/430.c402e5e0.js"><link rel="prefetch" href="/note-book/assets/js/431.96d51711.js"><link rel="prefetch" href="/note-book/assets/js/432.50e5d163.js"><link rel="prefetch" href="/note-book/assets/js/433.cf68082c.js"><link rel="prefetch" href="/note-book/assets/js/434.a53b8402.js"><link rel="prefetch" href="/note-book/assets/js/435.e9ffd84f.js"><link rel="prefetch" href="/note-book/assets/js/436.b0ad0f3c.js"><link rel="prefetch" href="/note-book/assets/js/437.1a803c0a.js"><link rel="prefetch" href="/note-book/assets/js/438.e8c037d1.js"><link rel="prefetch" href="/note-book/assets/js/439.ff6904f4.js"><link rel="prefetch" href="/note-book/assets/js/44.3ab6987b.js"><link rel="prefetch" href="/note-book/assets/js/440.78fe48bd.js"><link rel="prefetch" href="/note-book/assets/js/441.e5597a84.js"><link rel="prefetch" href="/note-book/assets/js/442.e0588885.js"><link rel="prefetch" href="/note-book/assets/js/443.d10765b9.js"><link rel="prefetch" href="/note-book/assets/js/444.a47f43c0.js"><link rel="prefetch" href="/note-book/assets/js/445.08f47bef.js"><link rel="prefetch" href="/note-book/assets/js/446.59e46a3f.js"><link rel="prefetch" href="/note-book/assets/js/447.602ade8f.js"><link rel="prefetch" href="/note-book/assets/js/448.3dd35692.js"><link rel="prefetch" href="/note-book/assets/js/449.abdd6e88.js"><link rel="prefetch" href="/note-book/assets/js/45.484069ee.js"><link rel="prefetch" href="/note-book/assets/js/450.c0634f1a.js"><link rel="prefetch" href="/note-book/assets/js/451.05fe3802.js"><link rel="prefetch" href="/note-book/assets/js/452.937823f1.js"><link rel="prefetch" href="/note-book/assets/js/453.3872cced.js"><link rel="prefetch" href="/note-book/assets/js/454.60d33807.js"><link rel="prefetch" href="/note-book/assets/js/455.7e2be4eb.js"><link rel="prefetch" href="/note-book/assets/js/456.eb8c4f22.js"><link rel="prefetch" href="/note-book/assets/js/457.6f439ee0.js"><link rel="prefetch" href="/note-book/assets/js/458.ad08d08d.js"><link rel="prefetch" href="/note-book/assets/js/459.1171265b.js"><link rel="prefetch" href="/note-book/assets/js/46.85a5771a.js"><link rel="prefetch" href="/note-book/assets/js/460.c959bcfc.js"><link rel="prefetch" href="/note-book/assets/js/461.a985e047.js"><link rel="prefetch" href="/note-book/assets/js/462.b17e2284.js"><link rel="prefetch" href="/note-book/assets/js/463.f3c724d9.js"><link rel="prefetch" href="/note-book/assets/js/464.e8cf1927.js"><link rel="prefetch" href="/note-book/assets/js/465.29bb4762.js"><link rel="prefetch" href="/note-book/assets/js/466.6a7a5fc0.js"><link rel="prefetch" href="/note-book/assets/js/467.f96fab65.js"><link rel="prefetch" href="/note-book/assets/js/468.ec2a5798.js"><link rel="prefetch" href="/note-book/assets/js/469.3f29a65a.js"><link rel="prefetch" href="/note-book/assets/js/47.9962c9d6.js"><link rel="prefetch" href="/note-book/assets/js/470.63e61c4d.js"><link rel="prefetch" href="/note-book/assets/js/471.b0232a07.js"><link rel="prefetch" href="/note-book/assets/js/472.c6c35197.js"><link rel="prefetch" href="/note-book/assets/js/473.c45ae22e.js"><link rel="prefetch" href="/note-book/assets/js/474.634be671.js"><link rel="prefetch" href="/note-book/assets/js/475.9784b659.js"><link rel="prefetch" href="/note-book/assets/js/476.ebd2b071.js"><link rel="prefetch" href="/note-book/assets/js/477.e8615e2c.js"><link rel="prefetch" href="/note-book/assets/js/478.c51baca4.js"><link rel="prefetch" href="/note-book/assets/js/479.4b9fe154.js"><link rel="prefetch" href="/note-book/assets/js/48.720b1b57.js"><link rel="prefetch" href="/note-book/assets/js/480.562ec36e.js"><link rel="prefetch" href="/note-book/assets/js/481.1839ee99.js"><link rel="prefetch" href="/note-book/assets/js/482.ac328e00.js"><link rel="prefetch" href="/note-book/assets/js/483.c746086a.js"><link rel="prefetch" href="/note-book/assets/js/484.ae8224bc.js"><link rel="prefetch" href="/note-book/assets/js/485.79dedc47.js"><link rel="prefetch" href="/note-book/assets/js/486.df898ea8.js"><link rel="prefetch" href="/note-book/assets/js/487.5a2cf462.js"><link rel="prefetch" href="/note-book/assets/js/488.d5b43bf8.js"><link rel="prefetch" href="/note-book/assets/js/489.e8c57af3.js"><link rel="prefetch" href="/note-book/assets/js/49.1bf2ca0d.js"><link rel="prefetch" href="/note-book/assets/js/490.829aab5d.js"><link rel="prefetch" href="/note-book/assets/js/491.4fbe683f.js"><link rel="prefetch" href="/note-book/assets/js/492.5cb75953.js"><link rel="prefetch" href="/note-book/assets/js/493.76a5073c.js"><link rel="prefetch" href="/note-book/assets/js/494.05fad52a.js"><link rel="prefetch" href="/note-book/assets/js/495.a4f64b15.js"><link rel="prefetch" href="/note-book/assets/js/496.0403dd70.js"><link rel="prefetch" href="/note-book/assets/js/497.d210d27a.js"><link rel="prefetch" href="/note-book/assets/js/498.f8aab1d2.js"><link rel="prefetch" href="/note-book/assets/js/499.793fb0b8.js"><link rel="prefetch" href="/note-book/assets/js/5.8e32a3a5.js"><link rel="prefetch" href="/note-book/assets/js/50.484aff43.js"><link rel="prefetch" href="/note-book/assets/js/500.aa141076.js"><link rel="prefetch" href="/note-book/assets/js/501.9235e82c.js"><link rel="prefetch" href="/note-book/assets/js/502.a5a9bafc.js"><link rel="prefetch" href="/note-book/assets/js/503.926850a1.js"><link rel="prefetch" href="/note-book/assets/js/504.2ae2846b.js"><link rel="prefetch" href="/note-book/assets/js/505.7063a1b8.js"><link rel="prefetch" href="/note-book/assets/js/506.7ff01181.js"><link rel="prefetch" href="/note-book/assets/js/507.1defd759.js"><link rel="prefetch" href="/note-book/assets/js/508.c9f6e5ff.js"><link rel="prefetch" href="/note-book/assets/js/509.ffb1dc36.js"><link rel="prefetch" href="/note-book/assets/js/51.7d0e2bc8.js"><link rel="prefetch" href="/note-book/assets/js/510.f7d3162b.js"><link rel="prefetch" href="/note-book/assets/js/511.38ef2b02.js"><link rel="prefetch" href="/note-book/assets/js/512.96e84fd6.js"><link rel="prefetch" href="/note-book/assets/js/513.e98716c7.js"><link rel="prefetch" href="/note-book/assets/js/514.d89ba7d5.js"><link rel="prefetch" href="/note-book/assets/js/515.5096d496.js"><link rel="prefetch" href="/note-book/assets/js/516.cded518a.js"><link rel="prefetch" href="/note-book/assets/js/517.f9555670.js"><link rel="prefetch" href="/note-book/assets/js/518.7002c693.js"><link rel="prefetch" href="/note-book/assets/js/519.f3d9fe0d.js"><link rel="prefetch" href="/note-book/assets/js/52.9173cf50.js"><link rel="prefetch" href="/note-book/assets/js/520.3c9017b3.js"><link rel="prefetch" href="/note-book/assets/js/521.43e6c03f.js"><link rel="prefetch" href="/note-book/assets/js/522.88709821.js"><link rel="prefetch" href="/note-book/assets/js/523.ecdb6663.js"><link rel="prefetch" href="/note-book/assets/js/524.432542b1.js"><link rel="prefetch" href="/note-book/assets/js/525.b63ab1d1.js"><link rel="prefetch" href="/note-book/assets/js/526.333c911a.js"><link rel="prefetch" href="/note-book/assets/js/527.676a094c.js"><link rel="prefetch" href="/note-book/assets/js/528.4dc284b8.js"><link rel="prefetch" href="/note-book/assets/js/529.9b122de7.js"><link rel="prefetch" href="/note-book/assets/js/53.fd0f9155.js"><link rel="prefetch" href="/note-book/assets/js/530.e3f2b994.js"><link rel="prefetch" href="/note-book/assets/js/531.61be0b03.js"><link rel="prefetch" href="/note-book/assets/js/532.85c6d69c.js"><link rel="prefetch" href="/note-book/assets/js/533.453c6883.js"><link rel="prefetch" href="/note-book/assets/js/534.9764f696.js"><link rel="prefetch" href="/note-book/assets/js/535.e69e01b7.js"><link rel="prefetch" href="/note-book/assets/js/536.ef3bb2b5.js"><link rel="prefetch" href="/note-book/assets/js/537.d727f459.js"><link rel="prefetch" href="/note-book/assets/js/538.93b41356.js"><link rel="prefetch" href="/note-book/assets/js/539.2b37a4ac.js"><link rel="prefetch" href="/note-book/assets/js/54.995d81cb.js"><link rel="prefetch" href="/note-book/assets/js/540.efc5b4b3.js"><link rel="prefetch" href="/note-book/assets/js/541.78ec3bd9.js"><link rel="prefetch" href="/note-book/assets/js/542.bcaa9fb3.js"><link rel="prefetch" href="/note-book/assets/js/543.38268931.js"><link rel="prefetch" href="/note-book/assets/js/544.cbd96281.js"><link rel="prefetch" href="/note-book/assets/js/545.e93ff530.js"><link rel="prefetch" href="/note-book/assets/js/546.e01e0fca.js"><link rel="prefetch" href="/note-book/assets/js/547.8efd01ee.js"><link rel="prefetch" href="/note-book/assets/js/548.80d5bf5a.js"><link rel="prefetch" href="/note-book/assets/js/549.38529849.js"><link rel="prefetch" href="/note-book/assets/js/55.97ab5b29.js"><link rel="prefetch" href="/note-book/assets/js/550.f19c7cdb.js"><link rel="prefetch" href="/note-book/assets/js/551.561d3af5.js"><link rel="prefetch" href="/note-book/assets/js/552.23d8c28a.js"><link rel="prefetch" href="/note-book/assets/js/553.e53a4146.js"><link rel="prefetch" href="/note-book/assets/js/554.2f4a96ed.js"><link rel="prefetch" href="/note-book/assets/js/555.3703e782.js"><link rel="prefetch" href="/note-book/assets/js/556.8d7178dd.js"><link rel="prefetch" href="/note-book/assets/js/557.bd5895cc.js"><link rel="prefetch" href="/note-book/assets/js/558.eb5a23ac.js"><link rel="prefetch" href="/note-book/assets/js/559.74593c78.js"><link rel="prefetch" href="/note-book/assets/js/56.6a90678d.js"><link rel="prefetch" href="/note-book/assets/js/560.b809e2d1.js"><link rel="prefetch" href="/note-book/assets/js/561.898a5d07.js"><link rel="prefetch" href="/note-book/assets/js/562.6f3b88ae.js"><link rel="prefetch" href="/note-book/assets/js/563.cad0d58e.js"><link rel="prefetch" href="/note-book/assets/js/564.0dad0184.js"><link rel="prefetch" href="/note-book/assets/js/565.af9411b9.js"><link rel="prefetch" href="/note-book/assets/js/566.e13b6477.js"><link rel="prefetch" href="/note-book/assets/js/567.632f9967.js"><link rel="prefetch" href="/note-book/assets/js/568.27b7c995.js"><link rel="prefetch" href="/note-book/assets/js/569.d7b023b3.js"><link rel="prefetch" href="/note-book/assets/js/57.84a3580c.js"><link rel="prefetch" href="/note-book/assets/js/570.5a8172e0.js"><link rel="prefetch" href="/note-book/assets/js/571.5fb01f6c.js"><link rel="prefetch" href="/note-book/assets/js/572.84a7f15f.js"><link rel="prefetch" href="/note-book/assets/js/573.9093c111.js"><link rel="prefetch" href="/note-book/assets/js/574.14075669.js"><link rel="prefetch" href="/note-book/assets/js/575.d9763e6d.js"><link rel="prefetch" href="/note-book/assets/js/576.ce1c8e0b.js"><link rel="prefetch" href="/note-book/assets/js/577.aab15d07.js"><link rel="prefetch" href="/note-book/assets/js/578.b41babea.js"><link rel="prefetch" href="/note-book/assets/js/579.f4afecac.js"><link rel="prefetch" href="/note-book/assets/js/58.27f88678.js"><link rel="prefetch" href="/note-book/assets/js/580.ddfb5a58.js"><link rel="prefetch" href="/note-book/assets/js/581.8eed47a3.js"><link rel="prefetch" href="/note-book/assets/js/582.fdca33f3.js"><link rel="prefetch" href="/note-book/assets/js/583.b38ccf01.js"><link rel="prefetch" href="/note-book/assets/js/584.f28f2e22.js"><link rel="prefetch" href="/note-book/assets/js/585.0fe7ff7e.js"><link rel="prefetch" href="/note-book/assets/js/586.0a41e782.js"><link rel="prefetch" href="/note-book/assets/js/587.e2baa697.js"><link rel="prefetch" href="/note-book/assets/js/588.0b5c4c33.js"><link rel="prefetch" href="/note-book/assets/js/589.342d62d7.js"><link rel="prefetch" href="/note-book/assets/js/59.3f439fd4.js"><link rel="prefetch" href="/note-book/assets/js/590.25883ff4.js"><link rel="prefetch" href="/note-book/assets/js/591.06b776d6.js"><link rel="prefetch" href="/note-book/assets/js/592.ceab0c04.js"><link rel="prefetch" href="/note-book/assets/js/593.aa6a83b9.js"><link rel="prefetch" href="/note-book/assets/js/594.019ffcdd.js"><link rel="prefetch" href="/note-book/assets/js/595.3e752634.js"><link rel="prefetch" href="/note-book/assets/js/596.275b235e.js"><link rel="prefetch" href="/note-book/assets/js/597.6c42a4e3.js"><link rel="prefetch" href="/note-book/assets/js/598.56f7b83c.js"><link rel="prefetch" href="/note-book/assets/js/599.9905e470.js"><link rel="prefetch" href="/note-book/assets/js/6.6ce36a23.js"><link rel="prefetch" href="/note-book/assets/js/60.665df4e4.js"><link rel="prefetch" href="/note-book/assets/js/600.fc3b7750.js"><link rel="prefetch" href="/note-book/assets/js/601.5ac0f793.js"><link rel="prefetch" href="/note-book/assets/js/602.4e07d599.js"><link rel="prefetch" href="/note-book/assets/js/603.9b8c3ad4.js"><link rel="prefetch" href="/note-book/assets/js/604.0bb5125b.js"><link rel="prefetch" href="/note-book/assets/js/605.1e869e97.js"><link rel="prefetch" href="/note-book/assets/js/606.9e984c3b.js"><link rel="prefetch" href="/note-book/assets/js/607.b875ec1f.js"><link rel="prefetch" href="/note-book/assets/js/61.c8935e22.js"><link rel="prefetch" href="/note-book/assets/js/62.8205ea97.js"><link rel="prefetch" href="/note-book/assets/js/63.6aded696.js"><link rel="prefetch" href="/note-book/assets/js/64.c82423b4.js"><link rel="prefetch" href="/note-book/assets/js/65.15031377.js"><link rel="prefetch" href="/note-book/assets/js/66.61d6f8ac.js"><link rel="prefetch" href="/note-book/assets/js/67.cc3afa31.js"><link rel="prefetch" href="/note-book/assets/js/68.a1bf8e77.js"><link rel="prefetch" href="/note-book/assets/js/69.16874396.js"><link rel="prefetch" href="/note-book/assets/js/70.8173a6af.js"><link rel="prefetch" href="/note-book/assets/js/71.59c0bb34.js"><link rel="prefetch" href="/note-book/assets/js/72.5e7f93f8.js"><link rel="prefetch" href="/note-book/assets/js/73.6c0af997.js"><link rel="prefetch" href="/note-book/assets/js/74.88975d48.js"><link rel="prefetch" href="/note-book/assets/js/75.c4e741f6.js"><link rel="prefetch" href="/note-book/assets/js/76.25226bac.js"><link rel="prefetch" href="/note-book/assets/js/77.60dccc98.js"><link rel="prefetch" href="/note-book/assets/js/78.e6ea459b.js"><link rel="prefetch" href="/note-book/assets/js/79.30414c64.js"><link rel="prefetch" href="/note-book/assets/js/8.786d245c.js"><link rel="prefetch" href="/note-book/assets/js/80.470cd078.js"><link rel="prefetch" href="/note-book/assets/js/81.c499990a.js"><link rel="prefetch" href="/note-book/assets/js/82.ac5963a9.js"><link rel="prefetch" href="/note-book/assets/js/83.d744d584.js"><link rel="prefetch" href="/note-book/assets/js/84.50598137.js"><link rel="prefetch" href="/note-book/assets/js/85.0255b784.js"><link rel="prefetch" href="/note-book/assets/js/86.2375f002.js"><link rel="prefetch" href="/note-book/assets/js/87.b673833c.js"><link rel="prefetch" href="/note-book/assets/js/88.8f9403b1.js"><link rel="prefetch" href="/note-book/assets/js/89.1bba4edc.js"><link rel="prefetch" href="/note-book/assets/js/9.c8c20877.js"><link rel="prefetch" href="/note-book/assets/js/90.617f3546.js"><link rel="prefetch" href="/note-book/assets/js/91.525e2f3c.js"><link rel="prefetch" href="/note-book/assets/js/92.00330a43.js"><link rel="prefetch" href="/note-book/assets/js/93.9eeb4873.js"><link rel="prefetch" href="/note-book/assets/js/94.7abfc46b.js"><link rel="prefetch" href="/note-book/assets/js/95.f93edf4c.js"><link rel="prefetch" href="/note-book/assets/js/96.420faa56.js"><link rel="prefetch" href="/note-book/assets/js/97.d232ccb5.js"><link rel="prefetch" href="/note-book/assets/js/98.d5766d37.js"><link rel="prefetch" href="/note-book/assets/js/99.025fe5fa.js">
    <link rel="stylesheet" href="/note-book/assets/css/0.styles.f86e2458.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note-book/" class="home-link router-link-active"><!----> <span class="site-name">Mrcode 笔记本</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note-book/posts/" class="nav-link router-link-active">
  博客（零散文章）
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计模式" class="dropdown-title"><span class="title">设计模式</span> <span class="arrow down"></span></button> <button type="button" aria-label="设计模式" class="mobile-dropdown-title"><span class="title">设计模式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-book/imocc/design_pattern/" class="nav-link">
  设计模式（慕课）
</a></li><li class="dropdown-item"><!----> <a href="/note-book/design_pattern/" class="nav-link">
  研磨设计模式（李兴华）
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Elasticsearch" class="dropdown-title"><span class="title">Elasticsearch</span> <span class="arrow down"></span></button> <button type="button" aria-label="Elasticsearch" class="mobile-dropdown-title"><span class="title">Elasticsearch</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-book/elasticsearch-core/" class="nav-link">
  核心知识篇
</a></li><li class="dropdown-item"><!----> <a href="/note-book/elasticsearch-senior/" class="nav-link">
  高级知识篇
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="缓存架构-亿级流量电商详情页系统实战" class="dropdown-title"><span class="title">缓存架构-亿级流量电商详情页系统实战</span> <span class="arrow down"></span></button> <button type="button" aria-label="缓存架构-亿级流量电商详情页系统实战" class="mobile-dropdown-title"><span class="title">缓存架构-亿级流量电商详情页系统实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          综合性导航
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-book/cache-pdp/" class="nav-link">
  全目录导航
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/001-introduce.html" class="nav-link">
  第一版（001 ~ 123 章）
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/124.html" class="nav-link">
  第二版（124 ~ 195 章）
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/121.html" class="nav-link">
  课程总结（难题与解决方案）
</a></li></ul></li><li class="dropdown-item"><h4>
          精彩知识精选
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-book/cache-pdp/redis/007.html" class="nav-link">
  Redis 篇（redis 企业级集群架构）
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/035.html" class="nav-link">
  多级缓存架构设计
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/040.html" class="nav-link">
  数据库 + 缓存双写一致性解决方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/045.html" class="nav-link">
  缓存维度化拆分解决方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/051.html" class="nav-link">
  缓存命中率提升解决方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/057.html" class="nav-link">
  缓存并发重建冲突解决方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/069.html" class="nav-link">
  缓存预热解决方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/077.html" class="nav-link">
  热点缓存自动降级方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/110.html" class="nav-link">
  缓存雪崩解决方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/117.html" class="nav-link">
  缓存穿透解决方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/119.html" class="nav-link">
  缓存失效解决方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/hystrix/084.html" class="nav-link">
  高可用分布式系统架构设计（hystrix 篇）
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/047.html" class="nav-link">
  spring boot 整合 ehcache
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/storm/062.html" class="nav-link">
  史上最通俗易懂 Storm 教程
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-book/introduce/" class="nav-link">
  本笔记介绍
</a></li><li class="dropdown-item"><!----> <a href="https://zq99299.github.io/linux-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Linux 基础篇
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/note-book/spring-cloud-tutorial/" class="nav-link">
  Spring Cloud
</a></li><li class="dropdown-item"><!----> <a href="/note-book/css-zxx/" class="nav-link">
  CSS 深入理解（张鑫旭）
</a></li><li class="dropdown-item"><!----> <a href="/note-book/regular/" class="nav-link">
  正则入门
</a></li><li class="dropdown-item"><h4>
          思路拓展
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-book/back-end-storage/" class="nav-link">
  后端存储实战
</a></li><li class="dropdown-subitem"><a href="/note-book/middle-office/" class="nav-link">
  说透中台
</a></li><li class="dropdown-subitem"><a href="/note-book/oath2/" class="nav-link">
  Oath 2.0 实战
</a></li></ul></li><li class="dropdown-item"><h4>
          Git
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-book/git/" class="nav-link">
  Git 零散知识
</a></li><li class="dropdown-subitem"><a href="/note-book/git-scm/" class="nav-link">
  Git 系统学习笔记
</a></li></ul></li><li class="dropdown-item"><h4>
          Mycat
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-book/mycat/" class="nav-link">
  Mycat 1
</a></li><li class="dropdown-subitem"><a href="/note-book/mycat2/" class="nav-link">
  Mycat 2
</a></li></ul></li><li class="dropdown-item"><h4>
          笔记精选汇总
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/zq99299/repository-summary" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub 站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://book.mrcode.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  国内镜像站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><!----> <a href="/note-book/posts-failure.html" class="nav-link">
  博客文章 /_posts/ 路径失效说明
</a></li></ul></div></div> <a href="https://github.com/zq99299/note-book" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note-book/posts/" class="nav-link router-link-active">
  博客（零散文章）
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计模式" class="dropdown-title"><span class="title">设计模式</span> <span class="arrow down"></span></button> <button type="button" aria-label="设计模式" class="mobile-dropdown-title"><span class="title">设计模式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-book/imocc/design_pattern/" class="nav-link">
  设计模式（慕课）
</a></li><li class="dropdown-item"><!----> <a href="/note-book/design_pattern/" class="nav-link">
  研磨设计模式（李兴华）
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Elasticsearch" class="dropdown-title"><span class="title">Elasticsearch</span> <span class="arrow down"></span></button> <button type="button" aria-label="Elasticsearch" class="mobile-dropdown-title"><span class="title">Elasticsearch</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-book/elasticsearch-core/" class="nav-link">
  核心知识篇
</a></li><li class="dropdown-item"><!----> <a href="/note-book/elasticsearch-senior/" class="nav-link">
  高级知识篇
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="缓存架构-亿级流量电商详情页系统实战" class="dropdown-title"><span class="title">缓存架构-亿级流量电商详情页系统实战</span> <span class="arrow down"></span></button> <button type="button" aria-label="缓存架构-亿级流量电商详情页系统实战" class="mobile-dropdown-title"><span class="title">缓存架构-亿级流量电商详情页系统实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          综合性导航
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-book/cache-pdp/" class="nav-link">
  全目录导航
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/001-introduce.html" class="nav-link">
  第一版（001 ~ 123 章）
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/124.html" class="nav-link">
  第二版（124 ~ 195 章）
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/121.html" class="nav-link">
  课程总结（难题与解决方案）
</a></li></ul></li><li class="dropdown-item"><h4>
          精彩知识精选
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-book/cache-pdp/redis/007.html" class="nav-link">
  Redis 篇（redis 企业级集群架构）
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/035.html" class="nav-link">
  多级缓存架构设计
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/040.html" class="nav-link">
  数据库 + 缓存双写一致性解决方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/045.html" class="nav-link">
  缓存维度化拆分解决方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/051.html" class="nav-link">
  缓存命中率提升解决方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/057.html" class="nav-link">
  缓存并发重建冲突解决方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/069.html" class="nav-link">
  缓存预热解决方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/077.html" class="nav-link">
  热点缓存自动降级方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/110.html" class="nav-link">
  缓存雪崩解决方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/117.html" class="nav-link">
  缓存穿透解决方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/119.html" class="nav-link">
  缓存失效解决方案
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/hystrix/084.html" class="nav-link">
  高可用分布式系统架构设计（hystrix 篇）
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/047.html" class="nav-link">
  spring boot 整合 ehcache
</a></li><li class="dropdown-subitem"><a href="/note-book/cache-pdp/storm/062.html" class="nav-link">
  史上最通俗易懂 Storm 教程
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-book/introduce/" class="nav-link">
  本笔记介绍
</a></li><li class="dropdown-item"><!----> <a href="https://zq99299.github.io/linux-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Linux 基础篇
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/note-book/spring-cloud-tutorial/" class="nav-link">
  Spring Cloud
</a></li><li class="dropdown-item"><!----> <a href="/note-book/css-zxx/" class="nav-link">
  CSS 深入理解（张鑫旭）
</a></li><li class="dropdown-item"><!----> <a href="/note-book/regular/" class="nav-link">
  正则入门
</a></li><li class="dropdown-item"><h4>
          思路拓展
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-book/back-end-storage/" class="nav-link">
  后端存储实战
</a></li><li class="dropdown-subitem"><a href="/note-book/middle-office/" class="nav-link">
  说透中台
</a></li><li class="dropdown-subitem"><a href="/note-book/oath2/" class="nav-link">
  Oath 2.0 实战
</a></li></ul></li><li class="dropdown-item"><h4>
          Git
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-book/git/" class="nav-link">
  Git 零散知识
</a></li><li class="dropdown-subitem"><a href="/note-book/git-scm/" class="nav-link">
  Git 系统学习笔记
</a></li></ul></li><li class="dropdown-item"><h4>
          Mycat
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-book/mycat/" class="nav-link">
  Mycat 1
</a></li><li class="dropdown-subitem"><a href="/note-book/mycat2/" class="nav-link">
  Mycat 2
</a></li></ul></li><li class="dropdown-item"><h4>
          笔记精选汇总
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/zq99299/repository-summary" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub 站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://book.mrcode.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  国内镜像站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><!----> <a href="/note-book/posts-failure.html" class="nav-link">
  博客文章 /_posts/ 路径失效说明
</a></li></ul></div></div> <a href="https://github.com/zq99299/note-book" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/note-book/posts/" aria-current="page" class="sidebar-link">博客文章</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>linux</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/note-book/posts/virtualbox/" class="sidebar-link">virtualbox</a></li><li><a href="/note-book/posts/win10/" class="sidebar-link">win10</a></li><li><a href="/note-book/posts/docker/" class="sidebar-link">docker</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>k8s</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nodejs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vuepress</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JAVA</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/note-book/posts/java/" aria-current="page" class="sidebar-link">JAVA</a></li><li><a href="/note-book/posts/java/javafx/" aria-current="page" class="active sidebar-link">java fx 图形界面开发</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note-book/posts/java/javafx/#配置-idea-开发环境" class="sidebar-link">配置 idea 开发环境</a></li><li class="sidebar-sub-header"><a href="/note-book/posts/java/javafx/#java-fx-hello-word" class="sidebar-link">java fx Hello Word</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note-book/posts/java/javafx/#设计一个-ui-界面" class="sidebar-link">设计一个 UI 界面</a></li><li class="sidebar-sub-header"><a href="/note-book/posts/java/javafx/#在项目中编写对应的-controller" class="sidebar-link">在项目中编写对应的 controller</a></li><li class="sidebar-sub-header"><a href="/note-book/posts/java/javafx/#运行这个-ui" class="sidebar-link">运行这个 UI</a></li><li class="sidebar-sub-header"><a href="/note-book/posts/java/javafx/#给按钮增加交互事件" class="sidebar-link">给按钮增加交互事件</a></li></ul></li><li class="sidebar-sub-header"><a href="/note-book/posts/java/javafx/#一些通用的点讲解" class="sidebar-link">一些通用的点讲解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note-book/posts/java/javafx/#窗口显示不全" class="sidebar-link">窗口显示不全</a></li><li class="sidebar-sub-header"><a href="/note-book/posts/java/javafx/#自适应窗口" class="sidebar-link">自适应窗口</a></li><li class="sidebar-sub-header"><a href="/note-book/posts/java/javafx/#多个窗口切换" class="sidebar-link">多个窗口切换</a></li><li class="sidebar-sub-header"><a href="/note-book/posts/java/javafx/#程序最小化到托盘" class="sidebar-link">程序最小化到托盘</a></li><li class="sidebar-sub-header"><a href="/note-book/posts/java/javafx/#在项目中使用-spring-容器配置" class="sidebar-link">在项目中使用 spring 容器配置</a></li><li class="sidebar-sub-header"><a href="/note-book/posts/java/javafx/#logback-动态日志路径" class="sidebar-link">logback 动态日志路径</a></li><li class="sidebar-sub-header"><a href="/note-book/posts/java/javafx/#如何实现一个界面上显示日志信息的功能" class="sidebar-link">如何实现一个界面上显示日志信息的功能</a></li><li class="sidebar-sub-header"><a href="/note-book/posts/java/javafx/#非-ui-线程操作-ui-元素报错" class="sidebar-link">非 UI 线程操作 UI 元素报错</a></li><li class="sidebar-sub-header"><a href="/note-book/posts/java/javafx/#打包成-windows-exe-安装程序" class="sidebar-link">打包成 windows exe 安装程序</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Gradle</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="java-fx-图形界面开发"><a href="#java-fx-图形界面开发" class="header-anchor">#</a> java fx 图形界面开发</h1> <p>本章讲解怎么用 gradle 搭建一个 java fx 开发环境。</p> <p>使用到的核心技术和包</p> <ul><li><p>Java Fx 图形界面框架</p></li> <li><p><a href="https://www.oracle.com/java/technologies/javafxscenebuilder-1x-archive-downloads.html" target="_blank" rel="noopener noreferrer">JavaFX Scene Builder 2.0<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：帮助我们可视化布局</p></li> <li><p>logback 输出日志</p></li> <li><p>spring-context 和 spring-beans ：带给我们 IOC 容器管理功能</p> <p>除了 Java Fx 初始化的类，其他我们自己的业务逻辑都可以使用 spring 的方式实现；</p> <p>这里没有使用 使用 spring web 这种的框架，作为一个图形界面，我们的测量是主动拉取服务端的数据。</p> <p>如果想要服务器主动拉取客户端：或许可以考虑使用 netty 之类的暴露接口？这里不深入研究了</p></li> <li><p><a href="https://github.com/FibreFoX/javafx-gradle-plugin" target="_blank" rel="noopener noreferrer">javafx-gradle-plugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：为我们打包成 windows 执行程序</p> <p>​	使用它打成 exe 安装包，还需要本机安装   <a href="https://files.jrsoftware.org/is/5/" target="_blank" rel="noopener noreferrer">innosetup-5.6.1.exe<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ，并添加到 path 环境变量中</p></li> <li><p>gradle 4.8：用于项目的打包依赖</p></li></ul> <h2 id="配置-idea-开发环境"><a href="#配置-idea-开发环境" class="header-anchor">#</a> 配置 idea 开发环境</h2> <p>安装好 JavaFX Scene Builder 2.0 后，需要在 idea 中设置这个执行路径</p> <p><img src="/note-book/assets/img/image-20200616103904739.38dd7275.png" alt="image-20200616103904739"></p> <p>打开 <code>*.fxml</code> 时才能以图形化方式预览，如下图</p> <p><img src="/note-book/assets/img/image-20200616104100890.1f8fbf1f.png" alt="image-20200616104100890"></p> <p>但是这里面编辑不是很方便。在 <code>*.fxml</code> 右键，可选择本机安装的  JavaFX Scene Builder 打开。我们对 UI 的设计也是在本机上面编辑</p> <p><img src="/note-book/assets/img/image-20200616104301087.8f6ba444.png" alt="image-20200616104301087"></p> <p>下面来写一个简单的入门 HelloWorld，然后讲解 fx 的简单概念</p> <h2 id="java-fx-hello-word"><a href="#java-fx-hello-word" class="header-anchor">#</a> java fx Hello Word</h2> <h3 id="设计一个-ui-界面"><a href="#设计一个-ui-界面" class="header-anchor">#</a> 设计一个 UI 界面</h3> <p>这里设计了一个简单的 UI 界面</p> <p><img src="/note-book/assets/img/image-20200616110924742.4f3d9654.png" alt="image-20200616110924742"></p> <p>下面来讲解下他们是怎么意思：</p> <p>可以看到左右：左边是一个 controller 的代码，右侧是一个 sample.fmxl 的可视化面板，这意味着，一个 fmxl 对应一个 controller 类；</p> <ul><li><p>fmxl 定义了初始的 UI 元素的信息</p></li> <li><p>controller 类：实现了这些元素的事件交互</p> <p>可以想象成是 js，给这个按钮增加点击弹出一个信息框。这样的逻辑就是在 controller 来实现</p></li></ul> <p>那么 xml 与 controller 是怎么关联的？</p> <ul><li><p>Hierarchy：这里我添加了一个 Containers/容器</p> <p>比如这里添加了一个  Pane 的容器面板，按钮是放在这个容器上的。<strong>一个窗口只能放一个根容器</strong>，同时对应了一个 controller</p></li> <li><p>controller 关联：在上图  1 的标识处，写的是这个 controller 的类路径；</p> <p>那么在 java 项目里面，就意味着你需要在这个类路径下创建左侧这个类；类里面的初始类容，这里给出来了。</p> <p><code>@FXML</code> 注解，是把这个 按钮 对象，注入给你，因为我们通过 fxml 来构建的初始界面，fxml 中的信息是框架来帮你完成初始化，我们要访问这个按钮，就需要通过 <code>@FXML</code> 注解来注入这个对象。</p> <p>按钮的 fx:id  对应的就是 controller 里面这个按钮对象的字段名称；</p></li></ul> <h3 id="在项目中编写对应的-controller"><a href="#在项目中编写对应的-controller" class="header-anchor">#</a> 在项目中编写对应的 controller</h3> <p><img src="/note-book/assets/img/image-20200616111825551.a96c1f98.png" alt="image-20200616111825551"></p> <p>可以看到我们刚刚设计的 fxml 和它给出对应的 controller 类，类容一对比，就看出来了，他们是怎么关联上的；</p> <h3 id="运行这个-ui"><a href="#运行这个-ui" class="header-anchor">#</a> 运行这个 UI</h3> <p>我们需要创建一个启动类</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">sample</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>application<span class="token punctuation">.</span></span><span class="token class-name">Application</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>fxml<span class="token punctuation">.</span></span><span class="token class-name">FXMLLoader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>scene<span class="token punctuation">.</span></span><span class="token class-name">Parent</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>scene<span class="token punctuation">.</span></span><span class="token class-name">Scene</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>stage<span class="token punctuation">.</span></span><span class="token class-name">Stage</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token keyword">extends</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token class-name">Stage</span> primaryStage<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
        <span class="token class-name">Parent</span> root <span class="token operator">=</span> <span class="token class-name">FXMLLoader</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token string">&quot;sample.fxml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        primaryStage<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        primaryStage<span class="token punctuation">.</span><span class="token function">setScene</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Scene</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">275</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        primaryStage<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">launch</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><ul><li><p>Application：需要继承这个类，接入 fx 框架</p></li> <li><p>main 方法：可以直接启动运行的入口</p></li> <li><p>start：</p> <p>所有 JavaFX 应用程序的主要入口点。返回 init 方法之后，以及在系统准备好开始运行应用程序之后，将调用start 方法。</p></li> <li><p>Stage ：舞台</p> <p><img src="data:image/png;base64,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" alt="image-20200616112442547"></p> <p>舞台就是如上图，除了红框以外的部分就是舞台了；也就是我们的程序窗口，有放大缩小等信息；</p> <p>可以在舞台上设置应用 <strong>程序场景</strong>。</p></li> <li><p>Scene ：程序场景</p> <p>可以看到代码中是加载了我们的 <code>sample.fxml</code> 并把他传递给了场景，场景就是负责渲染 UI 的；</p></li></ul> <p>那么一个简单的程序就创建好了，来总结下思路：</p> <ol><li>通过   Scene Builder  设计一个界面</li> <li>创建这个界面对应的初始控制器 Controller</li> <li>运行这个 UI：
<ol><li>继承 Application 类</li> <li>加载 sample.fxml 并创建场景</li> <li>把场景给舞台（Stage）显示</li></ol></li></ol> <h3 id="给按钮增加交互事件"><a href="#给按钮增加交互事件" class="header-anchor">#</a> 给按钮增加交互事件</h3> <p>现在按钮没有交互的，点击没有任何事件发生，下面实现这个功能：点击按钮，弹框显示一句话</p> <p>ui 上给这个按钮绑定 on action</p> <p><img src="/note-book/assets/img/image-20200616113319895.2514f8a9.png" alt="image-20200616113319895"></p> <p>那么对应生成的控制器中代码是</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>    <span class="token annotation punctuation">@FXML</span>
    <span class="token keyword">void</span> <span class="token function">btnClick</span><span class="token punctuation">(</span><span class="token class-name">ActionEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>下面实现这个这个弹框逻辑</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">sample</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>event<span class="token punctuation">.</span></span><span class="token class-name">ActionEvent</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>fxml<span class="token punctuation">.</span></span>FXML<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>control<span class="token punctuation">.</span></span><span class="token class-name">Alert</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>control<span class="token punctuation">.</span></span><span class="token class-name">Button</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Controller</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@FXML</span>
    <span class="token keyword">private</span> <span class="token class-name">Button</span> btn<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@FXML</span>
    <span class="token keyword">void</span> <span class="token function">btnClick</span><span class="token punctuation">(</span><span class="token class-name">ActionEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token class-name">Alert</span> alert <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Alert</span><span class="token punctuation">(</span><span class="token class-name">Alert<span class="token punctuation">.</span>AlertType</span><span class="token punctuation">.</span>INFORMATION<span class="token punctuation">)</span><span class="token punctuation">;</span>
        alert<span class="token punctuation">.</span><span class="token function">setContentText</span><span class="token punctuation">(</span><span class="token string">&quot;你好，第一个交互事件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        alert<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>运行 <code>sample.Main#main</code> 单击按钮，就有效果了</p> <p><img src="/note-book/assets/img/image-20200616113553472.17ffc17a.png" alt="image-20200616113553472"></p> <h2 id="一些通用的点讲解"><a href="#一些通用的点讲解" class="header-anchor">#</a> 一些通用的点讲解</h2> <p>一个基础完成了，那么来讲解一下几个通用的点</p> <h3 id="窗口显示不全"><a href="#窗口显示不全" class="header-anchor">#</a> 窗口显示不全</h3> <p>上面的 HellWorld 代码运行后，窗口显示不全，如下显示</p> <p><img src="data:image/png;base64,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9YZ8UBtXNqup9UE1a7U29N95Adsv9TN1auvG7ZK2lPHkfoUOPFx22VT98Y9vavLkS/TMrv/RrCun65vfGfqFqJ/+1PIRvRZQSrGjqMWOuo6FEUcuDJ2uv/Yqzb1qWv5DD54fSAol5xQkazR58mRlsllls6GyYVa+X4n9HY3a1rFFyxb07/FrbnMqfcZXo7a5NrV4C+Q9EN3XrDZX+vy2xpXNamrarua2bfE71dzUpO3NbbHXvLDtDxhfW7O8Jk+5ww1LtWVLs7SzrCfnRaeQlHuu3MbvrtN11103shfBmJuI+wkbGhqKngwcha7SJwMPxzty5IhLpVLq6enRjh07hv3686dbf6Epl04puj7/L+ZkswpjP8jp06f1iWVLNHPmzIoNHjmvvfbaiJ9D5GDBunXrtGbNGtXV1ammpkY1NTVKJpNKJBL5ZcQzucZPfVJnzpwZ8beW+L4/YN8QKodgAcWNOHKTJk3SpEmTRmMsAFBxfO8RANOIHADTiBwA04gcANOIHADTiBwA04gcANOIHADThpwMfO7cuWqMAwBGBTM5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAhqWIHADLXiFyACxbROQAWJYkcgAmrl8884xu/7sH9C+7OnQ+vuLMM7pr1izNmDFDQbUGBwAXa9GSBs3oelXbvrNOyTmt+tYtNbkV9cu04emn9VXfJ3IAJq4rrrhKa+5Yoe4Dd+mp53+vb92yLLciOV0Ll1yhRCJB5ABMcME8Nfz1Uh3wM+qRlBy8uhpjAoDKqdXie3+kW2pqVFNgLQceAJhG5ACYxttVAOZ0H/ud9r/ZI5+jqwAsevu/v6tV335JEjM5AAbNuetJHbs7oUQiwT45ALYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkAphE5AKYROQCmETkApvnZdI9SYbWHAQCjI2j/3k36ylP1uuamz+jDc2urPR4AqCj/xrsf12P/+k9adOpxvbj3YLXHAwAVFUyZ/RF9dPq1mn5kl/73kdPVHg8AVFT+wEMmnRbHIQBYk6/aua6zUm2ymmMBgIrLRy6dSUlBoppjAYCKy0fuqus/qtrzJ6s5FgCouHzk6pet0y031lVzLABQcfnIZTue1G9ffbeaYwGAistH7tCv23Rq0uxqjgUAKi4fOeeclOXzXQBsyUfukslTpN50NccCABWXj1zNpHopm6nmWACg4vxs+rzeO/GanvvVfmnK+6o9HgCoqKD9ex/TXY91KzFjsT7+iWuqPR4AqKjgxrv/U09/cbIuu3yqfvboj6s9HgCoqGDK7A/rulRKPT091R4LAFQcXzsCwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8A0IgfANCIHwDQiB8C0oNoDADC+9WSdMq7ao7hwRA5AQVknvdWdUW/o9IezaXVlJ2bpiByAgt7qzuj3Z1Ja/8opHT6XqfZwCrqvjMcQOQBD9GSdekOn9a+c0vVTa/Wz5XM0tcar9rCG+LdXh38MkQMwRMZJne+ldfhcRv9x62zVZrrlQifPG3+hGw6RA1DQmb6jDdNqfLkepw/UJqo8ogtD5ACUFIahfDk5x4EHAAY55+RcLnYTEZEDUFIucqGcm5ifHSByAEoKw1CeK/Z29ah2fu0e/eSN/nuuvmuHfrR69piNbzgTM80AxlQYhn0zuqGLJH3y221qa2tTW9u3Ne8n9+gHewo/dvCy5weN+trOI/337fmBGr+2U0fKeG65+wiZyQEoyTknFd0nF8pJci5UbvUsXXW1dDh/e7htS3Jh/7ZzdygMQ1VqDyAzOQAlhWGo0BWbyUlOkqLbR/foV2/8lZYuzt0++sRarXjoxf7HH31Ca1c8JOeO6om1K/TPz0lv/Pu9WrFibe6xuTt074oVWvvE0b7nvaiHVqzQimhZ+4SOMpMDUCnOOXl9lwXWSk56buNn9FzfPfO+/IgWO5eb4cnlA9j/cKcX3SzdsWWXZm++XY/PeURb77hSkrRr9mbd/vgcPbL1Dl0pybkXtfn270nf2KVdH8tt4qXNt+veh2Zr17qPlTV+ZnIASnLOyZXYJ+ck/eU3fq6f/zy3/O3hr+r2zS/lZ3r5bQyI3dDr0bak2O2X2vXLeV/S5xf337f481/SvF+266UyZ3JEDkBJ8fPkCi253Wr9txuWLJcOHdaRMFQY2+eWW2L73MpZP+T2wPvKQeQAlNR/nlzxmVx89vXynuelD87WLOc0a/YHpef36OVo3ZM/1cHcRsubyd10s5Yf/KmefDm2/Sd/qoPLb9ZN7JMDUAnOOYVh/1vPQWslJz2/aZWej+669et6am1DLmINq3Tn3LXatCq39tY779RcHckHrWHJrdr0/fu06rG5uvPhH+qzDUt066bv675Vj2nunQ/rh59t0H0P36l/XLtKqwptvwzekSNHXCqVUk9Pj3bs2KGNGzde1B8IgImvK+P0X386r7/fc0Ltyy+Tn+rW5TXj743fww8/rDVr1qiurk41NTWqqalRMplUIpHIL8zkAJQUzZj4gD4Ak/iAPgDTnHPKhmGRfXLjH5EDUNDkRO5bgN9Jhap3nk6lQ0287wUmcgAKCDzp2ilJzbkk0A87z2v9NZOUDCZi4ogcgALqEp5qfU8P/cXlWv/KKf3Ny13VHlJB/GtdAC7YjEm5POy6daY630vn/82H8eS3/GtdAC5UwpNm1QfqyTp9oG58puK3ZTxmfI4cwLhRl5iY++Ii4+8UZgCoICIHwDQiB8A0IgfAtKCzs1OpVEqpVEpnz56t9ngAoGxnz57VoUOHVFtbq2QyqWQyqSAI5Pu+EomEfN9XMGvWLKVSKfX29qq+vr7aYwaAstXX12vmzJmqra3Nf9VSEAQDvmqJt6sATCNyAEwjcgBMI3IATCNyAEwjcgBMI3IATCNyAEwjcgBMI3IATCNyAEwjcgBMI3IATCNyAEwjcgBMI3IATCNyAEwjcgBMI3IATCNyAEwjcgBMI3IATCNyAEwjcgBMI3IATAuOHTumVCqlVCql8+fPV3s8AFC28+fP6/jx46qtrVUymVQymVQQBPJ9X4lEQr7vK5g5c6ZSqZR6e3tVX19f7TEDQNnq6+s1ffp01dXVqaamJh+6KHKJRIK3qwBsI3IATCNyAEwjcgBMI3IATCNyAEwjcgBMI3IATCNyAEwjcgBMI3IATCNyAEwjcgBMI3IATCNyAEzLR845V81xAMAFc84NWOKYyQGY0IaboBE5AKYROQCmETkAE5rneSXX5yM33AMBYLzyPG/AEucXuhMAJop4v6Lr8eAxkwMwoZWaxUmxmRyRAzAR+b4/oGGDo0fkAEx4g8MWb5rv+76iBQAmmkQikV/is7poCQ4fPqxMJqN0Oq2urq5qjxcAytbV1aXjx48rmUwqCAIlk0nFJ26JRELeiRMnXCaTUSqV0pYtW6o9ZgAYkXvuuUfJZDIfuiAI8rM63/flvf322y6TyeRnc+l0WtlsNr+EYagwDOWcG3JZ6MOwAFApAw4g9L0Vjc/SotlbFLd44KLLILoR32gUt+gyClv8uiQiB2BUDTqAkI9cPGRR7OKzt/i+uWDwAQfP85RIJJTNZpVIJIgcgKopFbn49QFvTwcfeIgeGMXK8zyFYSjP8wrGrdT3NgHAxYg3peh5b7GYxd+6xmdxQ2ZyYRjmyxhfSu2HI3QARlux89/ikYvHbnAAB8zkwjDMnysXbSg+o4suB8eNyAEYLaVmc8VmdoPXB/GNxC+j4EVBGxy5aB0AVEqxt6vRZalZXbEliEctms0VCxuRAzDWhovccNH7f11jD3L5BkuXAAAAAElFTkSuQmCC" alt="image-20200616113825801"></p> <p>这个问题的原因是：面板容器的 <strong>初始大小</strong>，与你代码中的 <strong>场景大小</strong> 不匹配；</p> <p><img src="/note-book/assets/img/image-20200616114000771.60e207e9.png" alt="image-20200616114000771"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token class-name">Stage</span> primaryStage<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">Parent</span> root <span class="token operator">=</span> <span class="token class-name">FXMLLoader</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token string">&quot;sample.fxml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        primaryStage<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        primaryStage<span class="token punctuation">.</span><span class="token function">setScene</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Scene</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token number">600</span> <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">400</span> <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        primaryStage<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>在给定场景的时候，给定足够的大小；这里为什么多增加了 20 ？这个应该是因为边距之类导致的，笔者也不是很清楚</p> <h3 id="自适应窗口"><a href="#自适应窗口" class="header-anchor">#</a> 自适应窗口</h3> <p>这个笔者没有深入研究，有会的可以提交 issues。</p> <h3 id="多个窗口切换"><a href="#多个窗口切换" class="header-anchor">#</a> 多个窗口切换</h3> <p>要实现 2 个窗口：</p> <ul><li><p>一个用来显示程序启动提示：比如显示正在检查中</p> <p>这个检查逻辑我们可以做一些初始化操作，比如，在某个地方生成一个 PID 文件，并用  FileLock 锁住它，只要这个程序不退出，后续多开的程序获取不到锁。达到限制一个程序只能运行一个实例的思路</p></li> <li><p>一个窗口显示我们的主要信息：就比如上面的 hello word</p></li></ul> <p>这里主要是演示怎么从一个窗口跳转到另外一个窗口</p> <p>这个很简单</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">sample<span class="token punctuation">.</span>star</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">sun<span class="token punctuation">.</span>applet<span class="token punctuation">.</span></span><span class="token class-name">Main</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">RandomAccessFile</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>channels<span class="token punctuation">.</span></span><span class="token class-name">FileChannel</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>channels<span class="token punctuation">.</span></span><span class="token class-name">FileLock</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span><span class="token class-name">Files</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span><span class="token class-name">Path</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span><span class="token class-name">Paths</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>application<span class="token punctuation">.</span></span><span class="token class-name">Application</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>fxml<span class="token punctuation">.</span></span><span class="token class-name">FXMLLoader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>scene<span class="token punctuation">.</span></span><span class="token class-name">Parent</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>scene<span class="token punctuation">.</span></span><span class="token class-name">Scene</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>control<span class="token punctuation">.</span></span><span class="token class-name">Alert</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>stage<span class="token punctuation">.</span></span><span class="token class-name">Stage</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Starman</span> <span class="token keyword">extends</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token class-name">Stage</span> primaryStage<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">Parent</span> root <span class="token operator">=</span> <span class="token class-name">FXMLLoader</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token string">&quot;starman.fxml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        primaryStage<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">&quot;第一个窗口&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        primaryStage<span class="token punctuation">.</span><span class="token function">setScene</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Scene</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token number">600</span> <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">400</span> <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        primaryStage<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token function">checkInstanceUnique</span><span class="token punctuation">(</span>primaryStage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">launch</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * &lt;pre&gt;
     * 检查程序实例是否只有一个运行；
     *
     * 实现思路：通过 filelock只能一个进程锁定文件的机制，来实现是否已经运行该程序
     * &lt;/pre&gt;
     *
     * @param primaryStage
     * @throws Exception
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">checkInstanceUnique</span><span class="token punctuation">(</span><span class="token class-name">Stage</span> primaryStage<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token class-name">Path</span> rootPath <span class="token operator">=</span> <span class="token function">getWorkPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>rootPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">createDirectories</span><span class="token punctuation">(</span>rootPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">final</span> <span class="token class-name">RandomAccessFile</span> randomAccessFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RandomAccessFile</span><span class="token punctuation">(</span>rootPath<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;pid&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;rw&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">final</span> <span class="token class-name">FileChannel</span> pidChannel <span class="token operator">=</span> randomAccessFile<span class="token punctuation">.</span><span class="token function">getChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">final</span> <span class="token class-name">FileLock</span> fileLock <span class="token operator">=</span> pidChannel<span class="token punctuation">.</span><span class="token function">tryLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>fileLock <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Alert</span> alert <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Alert</span><span class="token punctuation">(</span><span class="token class-name">Alert<span class="token punctuation">.</span>AlertType</span><span class="token punctuation">.</span>ERROR<span class="token punctuation">)</span><span class="token punctuation">;</span>
            alert<span class="token punctuation">.</span><span class="token function">setContentText</span><span class="token punctuation">(</span><span class="token string">&quot;本程序一台机器只允许运行一个&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            alert<span class="token punctuation">.</span><span class="token function">setOnCloseRequest</span><span class="token punctuation">(</span>alertCloseEvent <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>alertCloseEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            alert<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 多窗口切换，核心代码就是让当前的窗口隐藏</span>
            <span class="token comment">// 然后手动初始化另外一个窗口的 main</span>
            primaryStage<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">sample<span class="token punctuation">.</span></span>Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Stage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">Path</span> <span class="token function">getWorkPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取用户的 目录，比如是 C:\Users\mrcode</span>
        <span class="token keyword">final</span> <span class="token class-name">String</span> userHome <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user.home&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>userHome<span class="token punctuation">,</span> <span class="token string">&quot;.项目目录&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br></div></div><h3 id="程序最小化到托盘"><a href="#程序最小化到托盘" class="header-anchor">#</a> 程序最小化到托盘</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">MinWindow</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>primaryStage<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 窗口上点击 x 或则最小化，都会触发此事件，我们不退出</span>
<span class="token comment">// 这里隐藏到托盘中</span>
primaryStage<span class="token punctuation">.</span><span class="token function">setOnCloseRequest</span><span class="token punctuation">(</span>event <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// System.exit(1);</span>
    <span class="token class-name">MinWindow</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span>primaryStage<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>下面是别人实现的一个最小化到托盘的工具类；自己阅读下源码也挺简单的。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">sample</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span></span><span class="token class-name">ActionListener</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span></span><span class="token class-name">MouseAdapter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span></span><span class="token class-name">MouseEvent</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span>URL<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>application<span class="token punctuation">.</span></span><span class="token class-name">Platform</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>stage<span class="token punctuation">.</span></span><span class="token class-name">Stage</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * &lt;pre&gt;
 * 让窗口最小化到托盘；只支持对一个窗体进行最小化到托盘
 * https://blog.csdn.net/DENG8623048/article/details/105906735
 * &lt;/pre&gt;
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MinWindow</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">MinWindow</span> instance<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">MenuItem</span> showItem<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">MenuItem</span> exitItem<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">TrayIcon</span> trayIcon<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">ActionListener</span> showListener<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">ActionListener</span> exitListener<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">MouseAdapter</span> mouseListener<span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        <span class="token comment">//执行stage.close()方法,窗口不直接退出</span>
        <span class="token comment">// 默认情况下，所有窗口都被关闭了，那么程序就结束了</span>
        <span class="token class-name">Platform</span><span class="token punctuation">.</span><span class="token function">setImplicitExit</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//菜单项(打开)中文乱码的问题是编译器的锅,如果使用IDEA,需要在Run-Edit Configuration在LoginApplication中的VM Options中添加-Dfile.encoding=GBK</span>
        <span class="token comment">//如果使用Eclipse,需要右键Run as-选择Run Configuration,在第二栏Arguments选项中的VM Options中添加-Dfile.encoding=GBK</span>
        showItem <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;open&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//菜单项(退出)</span>
        exitItem <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;exit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//此处不能选择ico格式的图片,要使用16*16的png格式的图片</span>
        <span class="token class-name">URL</span> url <span class="token operator">=</span> <span class="token class-name">MinWindow</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token string">&quot;/ui/life_favicon.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Image</span> image <span class="token operator">=</span> <span class="token class-name">Toolkit</span><span class="token punctuation">.</span><span class="token function">getDefaultToolkit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//系统托盘图标</span>
        trayIcon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrayIcon</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//初始化监听事件(空)</span>
        showListener <span class="token operator">=</span> e <span class="token operator">-&gt;</span> <span class="token class-name">Platform</span><span class="token punctuation">.</span><span class="token function">runLater</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        exitListener <span class="token operator">=</span> e <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        mouseListener <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MouseAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">MinWindow</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MinWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">MinWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">//检查系统是否支持托盘</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">SystemTray</span><span class="token punctuation">.</span><span class="token function">isSupported</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//系统托盘不支持</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getClassName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;:系统托盘不支持&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//设置图标尺寸自动适应</span>
            trayIcon<span class="token punctuation">.</span><span class="token function">setImageAutoSize</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//系统托盘</span>
            <span class="token class-name">SystemTray</span> tray <span class="token operator">=</span> <span class="token class-name">SystemTray</span><span class="token punctuation">.</span><span class="token function">getSystemTray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//弹出式菜单组件</span>
            <span class="token keyword">final</span> <span class="token class-name">PopupMenu</span> popup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PopupMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            popup<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;v1.0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            popup<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>showItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
            popup<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>exitItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
            trayIcon<span class="token punctuation">.</span><span class="token function">setPopupMenu</span><span class="token punctuation">(</span>popup<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//鼠标移到系统托盘,会显示提示文本</span>
            trayIcon<span class="token punctuation">.</span><span class="token function">setToolTip</span><span class="token punctuation">(</span><span class="token string">&quot;第一个程序&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            tray<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>trayIcon<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//系统托盘添加失败</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getClassName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;:系统添加失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 更改系统托盘所监听的Stage
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">listen</span><span class="token punctuation">(</span><span class="token class-name">Stage</span> stage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//防止报空指针异常</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>showListener <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> exitListener <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> mouseListener <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> showItem <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> exitItem <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> trayIcon <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//移除原来的事件</span>
        showItem<span class="token punctuation">.</span><span class="token function">removeActionListener</span><span class="token punctuation">(</span>showListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
        exitItem<span class="token punctuation">.</span><span class="token function">removeActionListener</span><span class="token punctuation">(</span>exitListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
        trayIcon<span class="token punctuation">.</span><span class="token function">removeMouseListener</span><span class="token punctuation">(</span>mouseListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//行为事件: 点击&quot;打开&quot;按钮,显示窗口</span>
        showListener <span class="token operator">=</span> e <span class="token operator">-&gt;</span> <span class="token class-name">Platform</span><span class="token punctuation">.</span><span class="token function">runLater</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">showStage</span><span class="token punctuation">(</span>stage<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//行为事件: 点击&quot;退出&quot;按钮, 就退出系统</span>
        exitListener <span class="token operator">=</span> e <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">//鼠标行为事件: 单机显示stage</span>
        mouseListener <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MouseAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">mouseClicked</span><span class="token punctuation">(</span><span class="token class-name">MouseEvent</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//鼠标左键</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">MouseEvent</span><span class="token punctuation">.</span>BUTTON1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">showStage</span><span class="token punctuation">(</span>stage<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">//给菜单项添加事件</span>
        showItem<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span>showListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
        exitItem<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span>exitListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//给系统托盘添加鼠标响应事件</span>
        trayIcon<span class="token punctuation">.</span><span class="token function">addMouseListener</span><span class="token punctuation">(</span>mouseListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 关闭窗口
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">hide</span><span class="token punctuation">(</span><span class="token class-name">Stage</span> stage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Platform</span><span class="token punctuation">.</span><span class="token function">runLater</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">//如果支持系统托盘,就隐藏到托盘,不支持就直接退出</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">SystemTray</span><span class="token punctuation">.</span><span class="token function">isSupported</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//stage.hide()与stage.close()等价</span>
                stage<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 点击系统托盘,显示界面(并且显示在最前面,将最小化的状态设为false)
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">showStage</span><span class="token punctuation">(</span><span class="token class-name">Stage</span> stage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//点击系统托盘,</span>
        <span class="token class-name">Platform</span><span class="token punctuation">.</span><span class="token function">runLater</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>stage<span class="token punctuation">.</span><span class="token function">isIconified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stage<span class="token punctuation">.</span><span class="token function">setIconified</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>stage<span class="token punctuation">.</span><span class="token function">isShowing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stage<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 将窗口置于前景中：如果被其他窗口覆盖，可以显示在最前面来</span>
            stage<span class="token punctuation">.</span><span class="token function">toFront</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br></div></div><h3 id="在项目中使用-spring-容器配置"><a href="#在项目中使用-spring-容器配置" class="header-anchor">#</a> 在项目中使用 spring 容器配置</h3> <p>使用背景：由于 fxml 中的元素包括 controller 都是 fx 框架初始化的，这一部分我们没有办法干预，对于复杂一点的业务模块，我们要买全部都写静态类，要买就使用 ioc 容器等能力来管理非 fx 初始化的类；</p> <p>我这里使用了 <a href="https://docs.spring.io/spring/docs/5.0.17.RELEASE/spring-framework-reference/core.html#spring-core" target="_blank" rel="noopener noreferrer">spring-core<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的 ioc 容器等功能。</p> <p>引用依赖</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    compile group: 'org.springframework', name: 'spring-beans', version: '5.0.8.RELEASE'
    compile group: 'org.springframework', name: 'spring-context', version: '5.0.8.RELEASE'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">ApplicationContext</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 在没有更好的办法下，使用本类进行对象共享; 在非 IOC 管理的类中通过本类获取容器
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Ioc</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> SP_ACTIVEPROFILE_KEY <span class="token operator">=</span> <span class="token string">&quot;activeProfile&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ApplicationContext</span> ctx<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">startForLaunchArgrs</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>args <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> args<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Ioc</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">Ioc</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 对 spring 进行初始化
     *
     * @param activeProfile 激活哪一个环境，如果为 null，则使用默认的 default
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token class-name">String</span> activeProfile<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ctx <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">final</span> <span class="token class-name">AnnotationConfigApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">AppConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>activeProfile <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ctx<span class="token punctuation">.</span><span class="token function">getEnvironment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setActiveProfiles</span><span class="token punctuation">(</span>activeProfile<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        ctx<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Ioc</span><span class="token punctuation">.</span>ctx <span class="token operator">=</span> ctx<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token string">&quot;net.tidebuy.cloud.sem.clientagent&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>容器初始化的时机：由于程序入口是 <strong>每个舞台（UI 窗口）的  man 方法</strong>，只需要在每个 man 里面初始化即可</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Ioc</span><span class="token punctuation">.</span><span class="token function">startForLaunchArgrs</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">launch</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这样配置后，无论是每个界面单独启动，还是完整的打成  exe 包，都能初始化这个容器。</p> <h3 id="logback-动态日志路径"><a href="#logback-动态日志路径" class="header-anchor">#</a> logback 动态日志路径</h3> <p>使用背景：由于需要打包成 exe 文件，那么日志路径在开发环境下可能就不是在 <code>System.getProperty(&quot;user.dir&quot;)</code> 中，<code>user.dir</code> 是程序运行所在的目录，开发环境下不应该把日志打到当前的项目中。所以需要区别对待</p> <p>两个难点：</p> <ul><li>怎么区分开发和生产环境？</li> <li>怎么动态给日志路径？</li></ul> <p>下面来分别说说思路：</p> <p>怎么区分开发和生产环境？</p> <p>我们的程序入口是一个 <code>main(String[] args)</code> 方法，可以通过此参数传入一个字符串标识，如规定为 spring 中的 Profile 环境名称。至于 exe 程序怎么配置让他携带参数呢？下面打包的时候再讲解</p> <p>怎么动态给日志路径？</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">ch<span class="token punctuation">.</span>qos<span class="token punctuation">.</span>logback<span class="token punctuation">.</span>classic<span class="token punctuation">.</span></span><span class="token class-name">Level</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">ch<span class="token punctuation">.</span>qos<span class="token punctuation">.</span>logback<span class="token punctuation">.</span>classic<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">ch<span class="token punctuation">.</span>qos<span class="token punctuation">.</span>logback<span class="token punctuation">.</span>classic<span class="token punctuation">.</span></span><span class="token class-name">LoggerContext</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">ch<span class="token punctuation">.</span>qos<span class="token punctuation">.</span>logback<span class="token punctuation">.</span>classic<span class="token punctuation">.</span>spi<span class="token punctuation">.</span></span><span class="token class-name">LoggerContextListener</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">ch<span class="token punctuation">.</span>qos<span class="token punctuation">.</span>logback<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Context</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">ch<span class="token punctuation">.</span>qos<span class="token punctuation">.</span>logback<span class="token punctuation">.</span>core<span class="token punctuation">.</span>spi<span class="token punctuation">.</span></span><span class="token class-name">ContextAwareBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">ch<span class="token punctuation">.</span>qos<span class="token punctuation">.</span>logback<span class="token punctuation">.</span>core<span class="token punctuation">.</span>spi<span class="token punctuation">.</span></span><span class="token class-name">LifeCycle</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * &lt;pre&gt;
 * 根据环境不同，分配不同的日志路径；
 *
 * 实现思路：
 *  在 logback 初始化时，将我们需要的路径写入 context.putProperty 中， xml 中就可以获取该值
 * &lt;/pre&gt;
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomLogContextListener</span> <span class="token keyword">extends</span> <span class="token class-name">ContextAwareBase</span> <span class="token keyword">implements</span> <span class="token class-name">LoggerContextListener</span><span class="token punctuation">,</span> <span class="token class-name">LifeCycle</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * 存储日志路径标识
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> LOG_PAHT_KEY <span class="token operator">=</span> <span class="token string">&quot;LOG_PATH&quot;</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isResetResistant</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token class-name">LoggerContext</span> loggerContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReset</span><span class="token punctuation">(</span><span class="token class-name">LoggerContext</span> loggerContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token class-name">LoggerContext</span> loggerContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onLevelChange</span><span class="token punctuation">(</span><span class="token class-name">Logger</span> logger<span class="token punctuation">,</span> <span class="token class-name">Level</span> level<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 无，表示是开发环境</span>
        <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user.dir&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;/logs&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// 这里获取的属性可以在每个界面入口处的  man 方法中 put 进来</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token class-name">Ioc</span><span class="token punctuation">.</span>SP_ACTIVEPROFILE_KEY<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            path <span class="token operator">=</span> <span class="token string">&quot;D:/work/logs&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span>LOG_PAHT_KEY<span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Context</span> context <span class="token operator">=</span> <span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">putProperty</span><span class="token punctuation">(</span>LOG_PAHT_KEY<span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isStarted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br></div></div><p>logback.xml</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span> <span class="token attr-name">scan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scanPeriod</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20 seconds<span class="token punctuation">&quot;</span></span> <span class="token attr-name">debug</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>contextListener</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>上面编写的监听器CustomLogContextListener<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>COMMON_PATTERN<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level [%thread] %logger{80}[%line] %msg%n<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 控制台输出 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>CONSOLE<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 日志输出编码 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>${COMMON_PATTERN}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">&gt;</span></span>utf8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 文件输出日志 (文件大小策略进行文件输出，超过指定大小对文件备份)--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>FILE-ALL<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>File</span><span class="token punctuation">&gt;</span></span>${LOG_PATH}/log.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>File</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.FixedWindowRollingPolicy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FileNamePattern</span><span class="token punctuation">&gt;</span></span>
                ${LOG_PATH}/log-%d{yyyy-MM-dd}.%i.log
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>FileNamePattern</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--只保留最近 n天的日志--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxHistory</span><span class="token punctuation">&gt;</span></span>7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxHistory</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>triggeringPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MaxFileSize</span><span class="token punctuation">&gt;</span></span>200MB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MaxFileSize</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>triggeringPolicy</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>${COMMON_PATTERN}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">&gt;</span></span>utf8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>INFO<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>CONSOLE<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- additivity true 信息向上级传递
         logger 本身默认只打印一次（false）：设置为 true，在文件输出的同时，又会在 root 的 console 中打印
     --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>logger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>应用程序包路径<span class="token punctuation">&quot;</span></span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>DEBUG<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">additivity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>FILE-ALL<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>logger</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h3 id="如何实现一个界面上显示日志信息的功能"><a href="#如何实现一个界面上显示日志信息的功能" class="header-anchor">#</a> 如何实现一个界面上显示日志信息的功能</h3> <p>使用背景：上面我们配置了 log 日志，但是一些关键的日志信息，希望在 UI 界面上显示出来，供操作人员了解程序在做什么。但是程序运行日志还是需要记录下来。如下图效果</p> <p><img src="/note-book/assets/img/image-20200616131941620.c646ed71.png" alt="image-20200616131941620"></p> <p>上图使用了一个  <code>javafx.scene.control.TextArea</code> 组件，可通过可视化设计在窗口上。只要拿到这个  textArea 注入的对象引用就可以实现我们的功能封装了。</p> <p>实现思路：</p> <ol><li>我们把 textArea 包装成一个 PrintStream 流对象，外部通过此流对象写入要输出的日志</li> <li>写一个 work 线程，给定一个队列，消费的往 ui 上写入信息</li></ol> <p>包装一个 PrintStream</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">ByteArrayOutputStream</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintStream</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>application<span class="token punctuation">.</span></span><span class="token class-name">Platform</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>control<span class="token punctuation">.</span></span><span class="token class-name">TextArea</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TextAreaPrint</span> <span class="token keyword">extends</span> <span class="token class-name">PrintStream</span> <span class="token punctuation">{</span><span class="token comment">//可以正常解析utf8和gbk码</span>
    <span class="token keyword">private</span> <span class="token class-name">TextArea</span> console<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">TextAreaPrint</span><span class="token punctuation">(</span><span class="token class-name">TextArea</span> console<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ByteArrayOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>console <span class="token operator">=</span> console<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buf<span class="token punctuation">,</span> <span class="token keyword">int</span> off<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> off<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 这里为什么使用这种方式？下一个技术点讲解</span>
        <span class="token class-name">Platform</span><span class="token punctuation">.</span><span class="token function">runLater</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> console<span class="token punctuation">.</span><span class="token function">appendText</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Platform</span><span class="token punctuation">.</span><span class="token function">runLater</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> console<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>实现一个消费队列</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">net<span class="token punctuation">.</span>tidebuy<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>sem<span class="token punctuation">.</span>clientagent<span class="token punctuation">.</span></span><span class="token class-name">TextAreaPrint</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>lang3<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">DateFormatUtils</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span>event<span class="token punctuation">.</span></span><span class="token class-name">Level</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">LinkedBlockingQueue</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">TimeUnit</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 该页面日志组件；支持日志的打印，清空操作
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LayoutConsoleLog</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">LayoutConsoleLog</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">TextAreaPrint</span> ps<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> maxRow<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">volatile</span> <span class="token keyword">boolean</span> runing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">LinkedBlockingQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> queue<span class="token punctuation">;</span>
    <span class="token comment">/**
     * 是否同时输出到日志文件
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span> outputToLog<span class="token punctuation">;</span>

    <span class="token comment">/**
     * @param ps
     * @param maxRow 最大日志显示多少行。到达这个行数就清空一次
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">LayoutConsoleLog</span><span class="token punctuation">(</span><span class="token class-name">TextAreaPrint</span> ps<span class="token punctuation">,</span> <span class="token class-name">Integer</span> maxRow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ps <span class="token operator">=</span> ps<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>maxRow <span class="token operator">=</span> maxRow<span class="token punctuation">;</span>
        queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedBlockingQueue</span><span class="token punctuation">(</span>maxRow<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">LayoutConsoleLog</span><span class="token punctuation">(</span><span class="token class-name">TextAreaPrint</span> ps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">(</span>ps<span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 停止打印，停止后就不能再打印了
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>runing <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> lastRow <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">String</span> templog <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> log <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                <span class="token keyword">while</span> <span class="token punctuation">(</span>runing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    log <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>log <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">continue</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>outputToLog<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        templog <span class="token operator">=</span> log<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>log<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;|&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>log<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token class-name">Level</span><span class="token punctuation">.</span>ERROR<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>templog<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>log<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token class-name">Level</span><span class="token punctuation">.</span>WARN<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>templog<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                            logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>templog<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                    ps<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    lastRow<span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>lastRow <span class="token operator">&gt;=</span> maxRow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        lastRow <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                        ps<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            queue<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 给日志消息增加前缀时间
     *
     * @param msg
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">logTime</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">buildLog</span><span class="token punctuation">(</span><span class="token class-name">Level</span><span class="token punctuation">.</span>INFO<span class="token punctuation">,</span> msg<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">logTimeError</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">buildLog</span><span class="token punctuation">(</span><span class="token class-name">Level</span><span class="token punctuation">.</span>ERROR<span class="token punctuation">,</span> msg<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">logTimeWarn</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">buildLog</span><span class="token punctuation">(</span><span class="token class-name">Level</span><span class="token punctuation">.</span>WARN<span class="token punctuation">,</span> msg<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 构建日志信息
     *
     * @param level 日志级别
     * @param msg   信息
     * @param time  是否在信息前增加时间
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">buildLog</span><span class="token punctuation">(</span><span class="token class-name">Level</span> level<span class="token punctuation">,</span> <span class="token class-name">String</span> msg<span class="token punctuation">,</span> <span class="token keyword">boolean</span> time<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token class-name">StringBuffer</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        buffer<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>level<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>time<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            buffer<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token class-name">DateFormatUtils</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        buffer<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot; | &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        buffer<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> buffer<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isOutputToLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> outputToLog<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setOutputToLog</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> outputToLog<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>outputToLog <span class="token operator">=</span> outputToLog<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br></div></div><h3 id="非-ui-线程操作-ui-元素报错"><a href="#非-ui-线程操作-ui-元素报错" class="header-anchor">#</a> 非 UI 线程操作 UI 元素报错</h3> <p>fx 的 UI 线程是单线程的，只要在 controller 中实现一些耗时的操作的话，那么 UI 就会表现出卡顿，甚至会出现「程序无响应」的问题。</p> <p>也就是说，我们耗时操作需要使用额外的多线程来操作，<strong>那么非 UI 线程操作 UI 元素（如改变往 textArea 中不停写出数据），就会有很大的几率出现异常信息；</strong> 这个是 fx 的机制的原因</p> <p>正确的异步更新 UI 元素应该这样使用</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// javafx.application.Platform#runLater</span>
<span class="token class-name">Platform</span><span class="token punctuation">.</span><span class="token function">runLater</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> console<span class="token punctuation">.</span><span class="token function">appendText</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>需要注意的是：Platform，是界面入口的 Application 初始化后，才能被调用，使用它去更新，实际上它是通过队列去更新的。</p> <h3 id="打包成-windows-exe-安装程序"><a href="#打包成-windows-exe-安装程序" class="header-anchor">#</a> 打包成 windows exe 安装程序</h3> <p>使用了 <a href="https://github.com/FibreFoX/javafx-gradle-plugin" target="_blank" rel="noopener noreferrer">javafx-gradle-plugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 插件，它封装了 <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/self-contained-packaging.html#A1324980" target="_blank" rel="noopener noreferrer">javapackger<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的功能，方便我们使用。下面是我实现的一个最简单的打包</p> <p>build.gradle</p> <div class="language-groovy line-numbers-mode"><pre class="language-groovy"><code>buildscript <span class="token punctuation">{</span>
    dependencies <span class="token punctuation">{</span>
        <span class="token comment">//https://github.com/FibreFoX/javafx-gradle-plugin</span>
        classpath group<span class="token punctuation">:</span> <span class="token string">'de.dynamicfiles.projects.gradle.plugins'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'javafx-gradle-plugin'</span><span class="token punctuation">,</span> version<span class="token punctuation">:</span> <span class="token string">'8.8.2'</span>
    <span class="token punctuation">}</span>
    repositories <span class="token punctuation">{</span>
        <span class="token function">mavenLocal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">mavenCentral</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
plugins <span class="token punctuation">{</span>
    id <span class="token string">'java'</span>
<span class="token punctuation">}</span>
apply plugin<span class="token punctuation">:</span> <span class="token string">'javafx-gradle-plugin'</span>

group <span class="token string">'sample'</span>
version <span class="token string">'1.0.0'</span>

sourceCompatibility <span class="token operator">=</span> <span class="token number">1.8</span>
compileJava<span class="token punctuation">.</span>options<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string gstring">&quot;UTF-8&quot;</span>

repositories <span class="token punctuation">{</span>
    <span class="token function">mavenLocal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 额外的仓库源</span>
    maven <span class="token punctuation">{</span> url <span class="token string gstring">&quot;http://maven.aliyun.com/nexus/content/groups/public&quot;</span> <span class="token punctuation">}</span>
    maven <span class="token punctuation">{</span> url <span class="token string">'https://repo.spring.io/libs-snapshot'</span> <span class="token punctuation">}</span>
    maven <span class="token punctuation">{</span> url <span class="token string gstring">&quot;https://maven.repository.redhat.com/ga/&quot;</span> <span class="token punctuation">}</span>
    maven <span class="token punctuation">{</span> url <span class="token string gstring">&quot;http://maven.nuiton.org/nexus/content/groups/releases/&quot;</span> <span class="token punctuation">}</span>
    maven <span class="token punctuation">{</span> url <span class="token string gstring">&quot;https://repository.cloudera.com/artifactory/cloudera-repos/&quot;</span> <span class="token punctuation">}</span>
    <span class="token function">mavenCentral</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

dependencies <span class="token punctuation">{</span>
    testCompile group<span class="token punctuation">:</span> <span class="token string">'junit'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'junit'</span><span class="token punctuation">,</span> version<span class="token punctuation">:</span> <span class="token string">'4.12'</span>
    <span class="token function">compile</span><span class="token punctuation">(</span><span class="token string gstring">&quot;org.apache.commons:commons-collections4:4.2&quot;</span><span class="token punctuation">)</span>
    <span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">'org.apache.commons:commons-lang3:3.7'</span><span class="token punctuation">)</span>
    <span class="token function">compile</span><span class="token punctuation">(</span><span class="token string gstring">&quot;net.tidebuy.cloud.commons:tlz-cloud-commons-httpclient:1.1.0&quot;</span><span class="token punctuation">)</span>
    <span class="token function">compile</span><span class="token punctuation">(</span><span class="token string gstring">&quot;com.google.guava:guava:29.0-jre&quot;</span><span class="token punctuation">)</span>
    compile <span class="token string gstring">&quot;ch.qos.logback:logback-core:1.2.3&quot;</span>
    compile <span class="token string gstring">&quot;ch.qos.logback:logback-classic:1.2.3&quot;</span>
    compile group<span class="token punctuation">:</span> <span class="token string">'org.springframework'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'spring-beans'</span><span class="token punctuation">,</span> version<span class="token punctuation">:</span> <span class="token string">'5.0.8.RELEASE'</span>
    compile group<span class="token punctuation">:</span> <span class="token string">'org.springframework'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'spring-context'</span><span class="token punctuation">,</span> version<span class="token punctuation">:</span> <span class="token string">'5.0.8.RELEASE'</span>
<span class="token punctuation">}</span>

tasks<span class="token punctuation">.</span><span class="token function">withType</span><span class="token punctuation">(</span>JavaCompile<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    options<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string gstring">&quot;UTF-8&quot;</span>
<span class="token punctuation">}</span>

jfx <span class="token punctuation">{</span>
    vendor <span class="token operator">=</span> <span class="token string">'厂商名称'</span>
    <span class="token comment">// 应用名称</span>
    appName <span class="token operator">=</span> <span class="token string gstring">&quot;hello-word&quot;</span>
     <span class="token comment">// 程序版本, 打包后，会变成主要的 exe 文件名称，比如  hello-word-1.0.exe</span>
    nativeReleaseVersion <span class="token operator">=</span> <span class="token string gstring">&quot;1.0&quot;</span> 
	<span class="token comment">// 程序运存时使用哪一个窗口作为入口运行，前面写好的窗口 man 方法类</span>
    mainClass <span class="token operator">=</span> <span class="token string">'sample.star.Starman'</span>
    <span class="token comment">// 这里就是前面说到 spring 的环境在程序运行时怎么传递进去</span>
    <span class="token comment">// 可以写多个参数</span>
    launcherArguments <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'production'</span><span class="token punctuation">]</span>

    <span class="token comment">// 打包成 exe 安装包，需要安装 https://files.jrsoftware.org/is/5/</span>
    <span class="token comment">// 并且需要把安装目录配置到 path 中，否则会提示：检测到 [iscc.exe] 版本 0, 但需要版本 5。</span>
    bundler <span class="token operator">=</span> <span class="token string gstring">&quot;exe&quot;</span> <span class="token comment">// 默认为 all</span>
    needShortcut <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// 生成桌面快捷方式</span>
    needMenu <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// 添加到菜单中</span>
    <span class="token comment">// 当你重复安装的时候，就会提示你，已经安装过 hello-word.exe 可以渲染自动配置，覆盖安装</span>
    identifier <span class="token operator">=</span> <span class="token string gstring">&quot;hello-word&quot;</span> <span class="token comment">// 为Windows-bundler设置此设置可以生成可升级的安装程序（使用相同的GUID）</span>
    bundleArguments <span class="token operator">=</span> <span class="token punctuation">[</span>
            <span class="token comment">//使“全局”成为默认</span>
            systemWide       <span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">//让用户能够选择安装目标</span>
            installdirChooser<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">//  runtime          : null,  // 不要 jre</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br></div></div><p>打包执行的 gradle 任务是 <code>gradle jfxNative</code>，执行完成后，默认会在 <code>build/jfx</code> 下成打包好的程序</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAADjCAYAAABKHMIqAAAWaUlEQVR4nO3de2xb130H8O+15MqPyF2TWH5RtuSYlCybS1Y7WElMaOLarUkEsAJM/6i2hWERCe+PLuIcZxgQGIaBoXY1Mmn/aEm12JRm/qMuEBUQSC1z5KzKyDax0zpqDJnXtRSLjm05iRY/5Betsz/4ECmRepK8lzrfDyCYvI9zj//48dx7eO+XihBCQCPPBz7NuPy0bUOBe7KQBOBU7PClLHH4Bbw2zTpEOlWqdQco12zwCgGv1t0g3VO0HPmJSDuLtO4AEWmjFLiidR+ISAMc+YkkxeInkhSLn0hSui/+e2/9KO3v/tteRNVzc2hpAB6rAc7AHL7cUNthVfbAowoAPXAqhxBAlnYCh6BY26FmW0+kE3n7nj8UCuP69a+yrl+16uuwWEyzblfcuYno798B7t1Fqflb8+kikdTyVvxbt67H8PCfkOk2AkVRsHXr+nm1Hz3Xi+i53qzrl+x9ZV7tpzG2IChactcekQ7k7bS/vHwJqqpWZlxXVbUS5eVL8nVoIpqBvF7z19auRWlpSdqy0tIS1Nauzedhp3EaTsUAJf6XnANQ22FNvZZPfT9xXZqetPYU+4mC/U+I5iOvxV9Wthg1NemFXlOzFmVli/N52Cn57N1oEEMQIgLhb4LP/mr2ybtp9cCp7Af88fZEBH5HTrtLlDd5n+3fuLECy5aVAQCWLSvDxo0V+T7klBz+Y7BBib2xHYDbcgKdgTk2FuiGz3IYB1OemLM1NM27j0SFkPfiLylZhC1bDACALVsMKCnR/beLRFIoSCWuW/c4Nm1ajXXrHi/E4abk6zydfK16XoYr1ISG5Mh9Af1qfF1XF0LTNWbbDUfoCNqSZw4D8BzlNT8Vh4INw1u3VhbqUFNyoDs5OWdy1cAv4pcBxhZ0uAGXqRKKYkBzfw0s07a2A15/E3z2ynibLwONPO2n4qAIEdH1rWj33vrRnPbL6ff8RAuQ7oufiPKDs29EkmLxE0mKxU8kKRY/kaRY/ESSYvETSYrFTyQpFj+RpKT5ua6Jdwoqy1egZOu3UGp8OkdH6IFT6UaDSHlqkEjHdD/yB4MXcOvW3Zy3m8gCjPb9LudtExUD3Y/8w8M30dPzCTZseBKbN6/LeRBIQbMAiXRE98UPAEIIDA7eQCTyJUymNdi0aTUWLeKpNdF86P60P1U0+gjnz0dw6lQfIpEvNOxJem6f1TMweRO1HdZMWYEAVM+e8cy/lGzAbMunOl72fYimVhQj/0Sjo/dx5swljIzcgdk8vwjw2Yvl9vW5eyFaq1OWD6S99rQBHWIIRiixH/KwvxqbDFR/jmZXDfyiM31iUG3PvBw9cCpvoDY8BGFUYm1b6+GsHYJ3U5a2iGagqEb+hGXLyrB9+0YNCh/J3L6O1qopNqpGq7cF8DRMTvQ1PgUzTsCuNMR/AWia5YFu+HA2GTKiKPVwhYC+/sHs+xDNQFEVf2lpCerqDNi50wyD4Qmtu5Nd/JS/Ga/HUn3Dh1NSgXbAKyIQ4nWguRJK8mfAsi0HYDmMsBhPCBYigmBr9dT7EE2jKIpfURRUVa3Erl1mmExrtJ3sm5Tb1wPPxGv+iypCKWcHaXmAajs8AQGgGq3BXrgtZ9F/cYrlk44HBJzjvyeQcR+iGdD9NX9FxQqYzetRXr5U667E7YA3fBhWU2X8KrsJfnEMadf8tgNwH62HSTkCALA4msZHfmMLatsMUOzx9443IWwKgGzLJx4PcPiH4I3nDmbeh2h60sR4MQuQKJ00xU9E6Yrimp+Ico/FTyQpFj+RpFj8RJIqrTmkat0HItIAR34iSbH4iSTF4ieSlO5v782Vf7nbkfb+pvIY3i8144+lplm1M7a6Cu+4VuKU+wO0XVMwJpbj0CvPoqUCePc/T+MfzvH2WioOui/+n//9X6K+5vGs63svfImXfvHxrNtdIW7D/jCE5eI+/nexec7927q7Di3XP0FN2w2Az9RTEdF98R/r+jOsxm+gJMOTfI/GBI51/Xle7X87+hG+Hf0o6/p/Xdqc9n7RtUHsPjSIRKEbK5ZjYHh0Xn0g0oLur/nV63fwqw+uZlz3qw+uQr1+p8A9IloYdF/8APCTdwZx+140bdnte1H85J3BgvdlbHUVuo/XYY8Q2LPvORw3A9XfeRYXjtfB+b3Yv3tE7FmpPfuew4V9KwveR6KZ0P1pPwB8cfsBftZzGQftG5PLftZzGV/cfqBhr4Df/PI9YN9zODD8IXb/V+wM5FrFcziw+1O8fW0Djq8axIs/GgYUzgWQ/hTFyA8Ab74fwZWRewCAKyP38Ob7EY17lNnbb36CS995Fur3l6P9rQGcZ+GTThVN8d+PjqHNfwkA0Oa/hPvRMY17RFTciqb4ASDw8TD+/bdDCHw8rHVXsnpx/xZsfPdDvPgu0LK3GnWCWSmkT0VV/EIAP+z6M/RaT3v2PYfjqwbh6r6NP3WfRzuq8Pb+Cq27RZRRUUz46dlvfvkefjPxtaJgEe6gre09tGnYN6KpSFP8E2/WmautT69E9fAN8EFoKnbSFP98jT1dB/X7FQCGcegVzuJT8VNMr5zW6RU0EeVTUU34EVHusPiJJMUf7SCSFEd+Ikmx+IkkxeInkhS/55+lib/2qyxfgZKt30Kp8WmNekQ0N9KM/MHgBdy6dTfn7Yo7NxH9/TuI9v0u520T5ZM0I//w8E309HyCDRuexObN61BWtjin7UfP9SJ6rjfr+iV7X8np8YjmS5riBwAhBAYHbyAS+RIm0xps2rQaizIEgxLJQJrT/lTR6COcPx/BqVN9iES+0K4jajusigFK/M8ZSNxyMQCP1QBnoAfOOa0nmp6UxZ8wOnofZ85cQl/fZQ2OPgBPG9AhhiBEBMLfBJ/9VQQwXsA+ezca5rGeaCpSF/+yZWXYvn0jzOb1Ghy9Gq3eFsDTEBu57ScmbeHwH4Mt8UMgtgNwW06gMzDz9URTkeqaP6G0tET7a361HVbTEcDdCyGq4++ZEkCFI9XIrygKqqpWYtcuM0ymNdpO9l1UEbIcRkdrFQBA7epCaMImvs7Tydeq52W4Qk1osM18PdFUpBn5KypWwGxej/LypVp3JcZ2AO6j9TApRwAAFkcTLBM2caAbirI//q4JfpFymj+D9URTkab4rdYarbswQTVagxG0pi7yTtik4RiE93j2JqZbTzQFaYo/V3izDi0UUl3zE9E4hnkQSYojP5GkWPxEkmLxE0mKxU8kKRY/kaRY/ESS4k0+s6S7DD+1HVZTFxrDnWg18tZemjlpRn5m+BGlk+Ymn87OD6Eoyrwz/CaO/DOVu9uCB+Cx1qP/tSF4bRzpae6kOu1nhh/ROGlO+1PpI8OvB05lDzyeQ8kMPqtnYHx1xny/HjiVerhCgM9eCcXajrDqg1U5BD8uwWNNb0P17IFibYeKxL6GzMciKUlZ/AnaZvgBwFm4+nfHMvjChwHXy/CoAtnz/Z6HV/TCbQEc/iGIYAtM8ef3FVSj9bUmhE6eihf7ALpOnoXjtZdgxGk4lTdQG463J3rReLKegZ+Sk7r4tc3wA4BtcB98PvbSuBONyTSP6fP9MrLthiPUhS4VgHoKJxPJPoFu+HAWLlNlfOSPnT309Q/m/r9ERUOqa/4EXWT4TWXO+X470ODYj6Ndg3gBXYD79fFkH8thhIMvwcikH4qTauTXVYbfVGaQ75eN7eBh4ORP0XYSaHyhKr5wNxyhI2hLSfYNOA8x5lty0hR/RcUK7NixBc88U5Xzn+rKOdsBuHEEJiV2mt7cX5OS71eNFxq3jU/4TSxg40404gR85n9MuelnB7zhw+izVyYn/DobmPcnO2m+588V7b/nJ8oNFj+RpKQ57SeidCx+Ikmx+IkkxeInkhSLn0hSLH4iSbH4iSTF4ieSlDQP9uQue68HTqUbDeIYbOrPU/LzBpmwQ0VF9yM/s/eI8kP3I//w8E309Hwy7+y9bKLnehE915t1/ZT35BtbEBQtOe0PUaHovvgBZu8R5YPuT/tT6SN7L4XaDqsy8bn402lZealRWapnT3K5Mmk/osIqquJP0D57LzufvRsNk7L3BKC2o9lVA39inTjO5+lJU0VZ/Npn72Xn8KeEZNgOwG05gc4AAONTMOME7EpDPKSTSFtFVfylpSWoqzNg504zDIYntO7OLO2AV0QgxOtAcyUUZQ8/BEhTRVH8RZO9B8DXeTr5WvW8DFciQVdthycgAFSjNdgLt+Us+i9q1k0i/c/2V1SsgNm8HuXlS7Xuyow40A1F2R9/1wS/iF8GGFtQ22aAYk9s+CYEbwYiDUkT48XsPaJ00hQ/EaUrimt+Iso9Fj+RpFj8RJJi8RNJisVPJCkWP5GkWPxEkmLxE0lK97f35kruMvyIFgbdj/zM8CPKD92P/LrO8CMqYrovfoAZfkT5oPvT/lT6yPAbgMdqgDPQE8vqs7ZDhUAsz388u8/qGUjukT27L32ftHUT8wHT3s+2D3PpGy10RVX8CXrI8Etm9QVbYMRpOJU3UBtO5PP1ovFkfSy8M2t2Xw+cyn70uXvjyyMQfsCuvDrjApzch/T2gq3V8ePMtm8kg6Isfj1k+KVl9QW64cNZuEyV8RG0Hq4Q0Nc/mD27L9ANn+UwOlqrxpelZv7NpQ8T25tr30gKRVX8us7wsxxGODmCpo68s83u24baTXrtGy0kRVH8us/ws+2GI3QEbSkjdsB5KBnZnTG7L75Ps2cwZaefwoUX8IIxseAC+tXYK7WrC6FZ9aEHHs/A3PpGUtD9bH9xZPjtgDd8GFZTZfKK2eEfgnfK7L4d8Io34VTqobgS7TTBL16CMb5fh7sLJlMlXAAsjiZYZtWHWH4gUD2HvpEMpInxYoYfUTppip+I0hXFNT8R5R6Ln0hSLH4iSbH4iSTF4ieSFIufSFIsfiJJsfiJJKX723tzhRl+ROl0P/Izw48oP3Q/8usvw28AHms9+l8bgpcPwVAR033xA8zwI8oH3Z/2p9I+w68HzngSjs9eCcXajjB64FT2wBNohzWehecMCCBwKENm3oTsvdTtiQqsqIo/QbsMvx3wil64LbFn4kWwBSYAwFm4jgIdYgjC3xT7YOjcHUvNCR8GXD9Ny+VLZu+JSHz7mef2EeVKURa/HjL80m2DuyMewmHbDQe2wX3w+dgq41MwpyTyABOy92aZ20eUK0VxzZ9QWlrCa36iHCmKkV/3GX6z5Os8nXytel6GK9SEBpuGHSIp6b74KypWYMeOLXjmmaqcf803N9V4oXFbyoTf7DnQnZzsM7lq4BfHmJdPBSdNjJc+Mvx4jwDpR1Fd888HgziJ0un+tJ+I8kOa034iSseRn0hSLH4iSbH4iSTF4ieSFIufSFIsfiJJ6f4mH2bvEeVH3kZ+Zu8R6VveRn79Ze/NxxWcavsBrn3v19hr5j35tDDk9bSf2XtE+lWQa/5E9t7g4A3U1a2DwfBEIQ6bwYd4y/VD/EGJfQAJUY+/c/8AZijA9bfRduwyvjfh/XfdFnzsOhbb5z8a8dGa7+PVgw1YxUdwqcgVdMIvkb03MnJHgwiuWOFfs/8Y/7ZzXWxR3xtwuX4c/wDITMGz2Ov+MVbztJ8WmIJ+1adp9l5fEB+t3Yt9O9eOLzP/Lexrf4tzfYXvDpHWCjLy6zt7rwqrK7TuA1Hh5XXk11X2ntmKb372Fn556rPxZX2/hh9/A/OqxILLuH499up63/v4bGIbRAtI3kb+iooVMJvXo7x8ab4OMUvPYq/7n/GW6wf4p0DqhF988m7Vi9hnfx/HjzciAGDNX9Vj/AJhHczPVCHACT9aQHQf5qGP7D2ihUf3xU9E+cEHe4gkxeInkhSLn0hSLH4iSSlCCE74EUmIIz+RpFj8RJJi8RNJSvcZfm+/8z9p75ctKUPNxg2oMqzRqEdEC0MeM/yCuHXrVs7bHb13H384H8aFgcs5b5tIJnmb7e/s7ISiKNiwYQM2b96MsrKyObUzceSfqRe/++057UckiwJk+A0iEonAZDJh06ZNWLSI0wxEelCQSoxGozh//jxOnTqFSCRSiENmpHqsUBQl/udEILYUHqsCZyAAp6JAsXqgAgDi7+N/Vo+qWb+J8qHAGX6jOHPmDEZGRmA2Z0vNyxPVg2aXGX4RhC3Dap+9E34h4AUQK3w7+txhiFZjYftJVCAFzvBbhu3btxe+8AHAWAszfLArVmQaxB1+7/iHQqATPosbHSx8WsAKUvylpaWoq6vDzp07YTAYCnHIDGzwCgEhOoBmBUqWDwEiWRQgw68Ku3btgslk0nayT/XAEwAAI1qDYbgtIfRfzLKtrQGOkAttgcSCADz8pKAFJo8ZfhUwm80oLy/P1yFmx9iK2jYFij3+3uGHyHTxDwCwwRt2w2pS4kl9DviFtxC9JCoY3T/Vx+/5ifJD98VPRPnBO26IJMXiJ5IUi59IUix+Ikmx+IkkxeInkhSLn0hSLH4iSS2Y4o9GH2EgchWDkat49GgswxaJ5/bn0LjqgTX5IFAAzmQWQAYBZ0omQIGlHXuafpL0Fkzxf3rlKm7fGUXk2g30nvkjeOMi0dR0n96b6qtbt3H98xGM3r0HQODr5Y9hTcWTWFL2NTy1Ifao8NjYGPzvhXB1+HOsXbUyNwc2tiIoWnPTFpFOFE3xfxK+hPDg0KTl5/ovwrB6JUzV67HiseUYvXcfjx49wsPoIw16SVQ8iuK0/+69+5h4El9aUgIgFhI6evce3g2ewX+//wHeDZ6BAPDk43+RpbX0bL7kHIDqgTX1Gjn1/cR1U7Sn2H1T/E9St7XC40m9Rs+SJah6YM3U33kdm5mEVATFf//BA/SeOYeHD6NYvmwpFi1ahJrq9Sh/bFlyG0WJPXV/e/QuxsbGYKwyYPnSJRnb89k70SAEhBAQfgd89vlMisWy/uCPtycE/I6ZbtsBnJxcrMn+BVthhApPG9CRsb+zPfZR1IYT24bReNI0t8lPWjB0X/zn1UHcGb2LT69cxZqVT+Cp9esweOUaRr4a/0GQz0e+Sr5ev3YV6owbs7aXltVnOwi3xYfOuRZBPOvvYEooiK0hSwVO2taI1tcmb5vWPxjR6m0FEqnDqSP7bI+NEFymxMhvgisE9PVz9JeZros/Gn2ETz+7BgAQAC5+GoE6OIT7Dx5k3N5YZcC2rbXx9J0FIH7K34yO2IgddsMy17YsboTF+FmCEAJBBpRKTdfFP3Lz5oy/svt6+XJsMT017Xa+lGFe9TTDFXKgITl69iExGKpdJxGarrFJWX8qPEdTRufU+wOm2zaTi/0IpaQIp/VpNu1N2hYIOHkPgOx0Xfz3H0STr8u+tjgtAHSRoqDsa4uT7yvXrJrRiO9AZ3LSy+Qywy/ip9nGVnS4kTw1bu43z2CUtcHrd8BnT5xONwON2S68Y7mAfTPaNrHLQbjhgknJ1Kf5HFtBZ4M34+8XkDx0HeN1/fMvEfyoD1WGNXimzoTRu/fw3u8+wpgYw/N//U0sX74MH/dfxKXLV2D9phmrnnxc6y7PTsAJ5WgtwsFW8AScCk3Xxf/gYRTXbnyBVU8+nhzlb3z5fxBCoOKJbwAAHj6M4uqNL7Bm5RNYvFjPty2o8FjbUBtMjLjjvwrEa2/Sgq6Lf8FRPbCaXMnrdgsLnzTE4ieSlK4n/Igof1j8RJJi8RNJisVPJCkWP5Gk/h90POFFL92aNwAAAABJRU5ErkJggg==" alt="image-20200616134155981"></p> <h4 id="exe-图标设置"><a href="#exe-图标设置" class="header-anchor">#</a> exe 图标设置</h4> <p><img src="data:image/png;base64,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" alt="image-20200616134428995"></p> <p>如上图，在 <code>src/main/deploy/package/windows</code> 目录下存在两个图片文件：</p> <ul><li><p>exe 图标：appName.ico</p> <p>jfx 中的 appName  名称</p></li> <li><p>exe 安装程序打开后，安装界面显示的图片：appName-setup-icon.bmp</p> <p>这个 bmp 格式一定要对，否则打开安装程序，就会报错说 bmp 是无效的。</p></li></ul> <p><img src="/note-book/assets/img/image-20200616134814536.a6f7604b.png" alt="image-20200616134814536"></p> <h4 id="关于-bundler-的知识点"><a href="#关于-bundler-的知识点" class="header-anchor">#</a> 关于 bundler 的知识点</h4> <p>他默认是 all，有哪些呢？可以通过 <code>gradle jfxListBundlers</code> 查看。</p> <p>如果使用 <code>bundler=all</code> 打包的话，笔者的 windows 10 上会出现三种方式</p> <p><img src="data:image/png;base64,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" alt="image-20200616135233367"></p> <ul><li><p>app 打成的是可运行的 jar 包</p> <p>lib 下面是该 jar 包的所有依赖包； 可以通过 <code>java -jar</code> 的方式运行。</p></li> <li><p>native 下有两种</p> <ol><li><p>安装版本</p> <p>最外面哪个 xxx.exe 程序，这个就是当 <code>bundler=exe</code> 的时候打出来的 exe 安装包</p></li> <li><p>绿色版</p> <p>就是这个目录下的所有文件，其实就是安装包里面解压出来的，也就是绿色版</p> <p><img src="/note-book/assets/img/image-20200616135443744.1f56c1e0.png" alt="image-20200616135443744"></p> <p>里面包含了 jar 包、运行时的 jre、还有 windows 的 dll 文件、exe 程序执行文件</p></li></ol></li></ul> <h4 id="其他更细粒度的控制"><a href="#其他更细粒度的控制" class="header-anchor">#</a> 其他更细粒度的控制</h4> <p>这个就需要去仔细研究 ：</p> <ul><li><a href="https://github.com/FibreFoX/javafx-gradle-plugin" target="_blank" rel="noopener noreferrer">javafx-gradle-plugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 插件</li> <li><a href="https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/self-contained-packaging.html#A1324980" target="_blank" rel="noopener noreferrer">javapackger<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://files.jrsoftware.org/is/5/" target="_blank" rel="noopener noreferrer">innosetup-5.6.1.exe<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：打包成 exe 安装程序的软件</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/zq99299/note-book/edit/master/docs/posts/java/javafx/README.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021-01-13 14:59:06</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/note-book/posts/java/" class="prev router-link-active">
        JAVA
      </a></span> <span class="next"><a href="/note-book/posts/gradle/">
        Gradle 笔记
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/note-book/assets/js/app.f8ed69a7.js" defer></script><script src="/note-book/assets/js/7.9ecfe4e1.js" defer></script><script src="/note-book/assets/js/17.b77eebce.js" defer></script><script src="/note-book/assets/js/103.8bd3ade7.js" defer></script>
  </body>
</html>
